---
title: Play 2.0 中文资料 - 搭建你偏爱的 IDE
url: /play2-0-tutorials-cn-setting-up-ide/
date: 2012-10-05T10:26:28-05:00
featured: false
draft: false
type: post
toc: false
# menu: main
usePageBundles: true
categories:
  - PlayFramework
tags: 
  - 翻译
  - Scala
  - PlayFramework
comment: true
codeMaxLines: 50
# additional
wpPostId: 4822 
wpStatus: publish
views: 2732
lastmod: 2012-10-06T14:09:33-05:00
---

用 Play 进行工作其实很简单的. 你甚至不需要一个复杂的 IDE, 因为 Play 会在你对源文件作了修改之后自动编译和刷新, 因此你可以很轻易的使用一个简单的文本编辑器来工作.<br/>
<br/>
然而, 使用一个现代的 Java 或 Scala IDE 或给予你很 Cool 生产效率, 比如即时的编译, 良好的重构和调试功能.<br/>
<br/>
<span style="font-size: medium;"><strong>Eclipse</strong></span><br/>
<br/>
<span style="font-size: small;"><strong>生成配置</strong></span><br/>
<br/>
Play 提供了一条命令简化了 Eclipse 配置. 为转换一个 Play 应用为有效的 Eclipse 项目, 使用&nbsp;<code>eclipsify</code> 命令:<br/>
<br/>
无需关联下载依赖的源文件 jars 包:<br/>
<pre class="brush:bash">[My first application] $ eclipsify</pre>

<span style="color: #0000ff;">Unmi 注: 对于一个新建的项目，执行 eclipsify 之后会产生 Eclipse 必须的 .project, .classpath 和 .settings 文件，并且这个命令还会创建 test 和 target 目录。Play 1.x 的 play eclipsify 命令有些不同，它会生成一个 eclipse 目录，里面有三个分别用于运行, 调试和测试用的 launch 文件。<!--more--></span><br/>
<br/>
如果你希望获取到可用依赖的源文件包就 (这会要较长的时间, 可能一些源文件包根本找不到):<br/>
<pre class="brush:bash">[My first application] $ eclipsify with-source=true</pre>

<span style="color: #0000ff;">Unmi 注: 带了参数 with-source=true, play 会试图去下载依赖包的源文件和 javadoc 对应的 jar 包，比如对于 play-test_2.9.1.jar 依赖，它会试图下载&nbsp;play-test_2.9.1-sources.jar 文件放在目录 $PLAY_HOME/repository/local/play/play-test_2.9.1/2.0.4/srcs 下, 也会尝试下载 play-test_2.9.1-javadoc.jar 到目录 $PLAY_HOME/repository/local/play/play-test_2.9.1/2.0.4/docs 中。并且会把它们在 Ecipse 中关联起来，实际上大部分的依赖是上载不以关联的 -soures.jar 和 -javadoc.jar 包的。</span><br/>
<br/>
然后呢你需要通过&nbsp;<strong>File/Import/General/Existing project…</strong>&nbsp;菜单把项目导入到 Workspace 中来 (需事先编译好你的项目).<br/>
<br/>
<span style="color: #0000ff;">Unmi 注: 实际上，在执行 eclipsify 指令时就会帮你编译项目的。</span><br/>
<p style="text-align: center;"><a href="http://www.playframework.org/documentation/2.0.4/resources/manual/gettingStarted/images/eclipse.png"><img class="aligncenter" src="http://www.playframework.org/documentation/2.0.4/resources/manual/gettingStarted/images/eclipse.png" alt="" width="750" /></a></p>

你可以用&nbsp;<code>play debug</code>&nbsp;进到&nbsp;Play&nbsp;控制台，然后&nbsp;run 命令来启动你的应用,&nbsp;然后可以任何时候在 Connect JPDA launcher 上使用&nbsp;<strong>Debug As</strong>&nbsp;来启动一个调试会话. 停止调试会话不会停掉 Server.<br/>
<br/>
<span style="color: #0000ff;">Unmi 注: Play 2 的 eclipsify 命令转换项目时并不会生成 eclipse 目录, 所以也没有 Connect JPDA to myFirstApp.launch 这个配置直接给你启动调试会话。Play 1.x 的 eclipsify 才有这个东西，在 Play 2 中你也可以仿照着加上自己的 Connect JPDA launch 文件。因而对 Play 2 Eclipse 项目，自己不创建 Connect JPDA launch 文件的话就得到项目右键/Debug As/Debug Configurations 中新建一个 Remote Java Application 配置用于调试。</span><br/>
<blockquote><strong>小贴士</strong>: 你可以&nbsp;<code>~run</code>&nbsp;运行你的应用以开启在文件更改时直接编译的功能. 这种方式下, 当你在 view 目录中新建一个 Scala 模板时会被自动发现到并且自动编译. 如果你用通常的&nbsp;<code>run</code>&nbsp;的话, 你每次不得不手工来刷新浏览器.</blockquote>

假如你对应用作了重要的变动, 比如说改了 classpath, 要重新运行&nbsp;<code>eclipsify</code>&nbsp;来重新生成配置文件.<br/>
<blockquote><strong>小贴士</strong>: 当你工作在团队中, 请不要提交 Eclipse 配置文件!</blockquote>

生成的配置文件包含了指向到你的框架安装所在的绝对路径. 这是特定于你本地的安装目录的. 当你工作在团队中, 每一个开发者必须保持它自己的 Eclipse 配置文件是私有的.<br/>
<br/>
<span style="font-size: medium;"><strong>IntelliJ</strong></span><br/>
<br/>
<span style="font-size: small;"><strong>生成配置</strong></span><br/>
<br/>
Play 提供了一个命令以简化 Intellij IDEA 的配置. 要转换一个 Play 应用成 IDEA 工作模块(working IDEA module), 使用 idea 命令:<br/>
<br/>
<span style="color: #0000ff;">Unmi 注: Play 1.x 要转换为 IDEA 项目时用的命令是: play&nbsp;idealize</span><br/>
<br/>
无需关联下载依赖的源文件 jars 包:<br/>
<pre class="brush:bash">[My first application] $ idea</pre>

如果你希望获取到可用依赖的源文件包就 (这会要较长的时间, 可能一些源文件包根本找不到):<br/>
<pre class="brush:bash">[My first application] $ idea with-sources</pre>

接着需要导入应用到你的项目中 (File-&gt;New Module-&gt;Import existing Module)<br/>
<p style="text-align: center;"><a href="http://www.playframework.org/documentation/2.0.4/resources/manual/gettingStarted/images/idea.png"><img class="aligncenter" src="http://www.playframework.org/documentation/2.0.4/resources/manual/gettingStarted/images/idea.png" alt="" width="750" /></a></p>

<br/>
<blockquote>小贴士: 这里有一个关于构建基于 Java 的 Play2 应用的小 Bug <a href="http://devnet.jetbrains.net/thread/433870">Intellij IDEA issue</a>,&nbsp;是在已安装了 Scala 插件的情况下发生的. 在它未修复之前, 建议暂时禁用掉 Scala 插件.</blockquote>

要调试的话, 先得添加一个调试配置<br/>
<ul><br/>
	<li>打开 Run/Debug Configurations 对话窗, 然后点 Run -&gt; Edit Configurations</li>

	<li>添加一个 Remote 配置, 接着选择&nbsp;<code>Remote</code></li>

	<li>下面进行配置:<br/>
<ul><br/>
	<li>设置名称</li>

	<li>Transport: Socket</li>

	<li>Debugger mode: Attach</li>

	<li>Host: localhost</li>

	<li>Port: 9999</li>

	<li>选择要导入的模块</li>

</ul><br/>
</li>

	<li>关闭对话窗 - 点 Apply</li>

</ul><br/>
以调试模式启动 play:<br/>
<pre class="brush:bash">$ play debug</pre>

它会打印:<br/>
<pre class="brush:bash">Listening for transport dt_socket at address: 9999</pre>

设置断点. 通过执行任务&nbsp;<code>play</code>&nbsp;运行 Web 应用(再次提醒, 必须是在同一个终端中运行了&nbsp;<code>play debug&nbsp;</code>命令). 最后浏览&nbsp;<code>http://localhost:9000</code>. IntelliJ 将会停在你的断点处.<br/>
<br/>
如果你对应用作了重要的修改的话, 比如修改了 classpath, 需瑞次用&nbsp;<code>idea</code>&nbsp;来重新生成配置文件.<br/>
<br/>
<span style="font-size: medium;"><strong>Netbeans</strong></span><br/>
<br/>
<span style="font-size: small;"><strong>生成配置</strong></span><br/>
<br/>
Netbeans 当前还不存在原生 Play 项目. 所以目前你可以用&nbsp;&nbsp;<a href="https://github.com/remeniuk/sbt-netbeans-plugin">Netbeans SBT plugin</a>&nbsp;生成一个 Netbeans Scala 项目.<br/>
<br/>
<span style="color: #0000ff;">Unmi 注: Play 1.x 转换成 Netbeans 项目运行的命令是: play&nbsp;netbeansify</span><br/>
<br/>
首先编辑 plugins.sbt 文件<br/>
<pre class="brush:scala">resolvers += {<br/>
  "remeniuk repo" at "http://remeniuk.github.com/maven" <br/>
}<br/>
<br/>
libraryDependencies += {<br/>
  "org.netbeans" %% "sbt-netbeans-plugin" % "0.1.4"<br/>
}</pre>

然后运行<br/>
<pre class="brush:bash">$ play netbeans</pre>

<span style="color: #0000ff;">Unmi 注: Play 1.x 的指令系统用的是 Python 脚本, 而 Play 2 这些是基于 sbt 构建系统, Play 2 中不在依赖于 Python 了。从这方面讲，Play 2 更推崇用 Scala 了，自己就是个例子。在下载的 Play 1.x 解压后的目录中有 support, 里面有针对 eclipse, vim 和 zsh 的插件, 这个 eclipse 可以装来用，它提供了 routes 和 application.conf 的编辑器，其他功能可能没什么用。在下载的 Play 2 的目录中未包含 Eclipse 插件，大概它也不再推荐使用原来那个 Play Eclipse 插件了。</span>
