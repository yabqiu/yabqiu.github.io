---
title: 代码整洁之道(Clean Code) 笔记(一)
url: /reading-clean-code-note-1/
date: 2017-03-07T23:19:32-06:00
featured: false
draft: true
type: post
toc: false
# menu: main
usePageBundles: true
thumbnail: "../images/logos/http://unmi.cc/wp-content/uploads/2017/03/clean-code.png"
categories:
  - ReadingNotes
tags: 
  - Clean Code
comment: true
codeMaxLines: 50
# additional
wpPostId: 7895 
wpStatus: publish
views: 778
lastmod: 2017-04-02T23:47:09-05:00
---

<h3>第一章：整洁代码</h3><br/>
<ol>

	<li>代码即设计</li>

	<li>童子军军规：把露营地清理得比来时还干净，签入代码前是否已做重构</li>

	<li>你湎自行实践，且体验自己失败。你须观察他人的实践与失败</li>

	<li>勒布朗(LeBlanc) 法则：稍后等于永不 (Later equals never)</li>

	<li>赶上期限的唯一方法--做得快的唯一方法--就是始终尽可能保持代码整洁</li>

	<li>缺乏“代码感”的程序员，看混乱是混乱，无处着手。有“代码感”的程序员能从混乱中看出其他的可能与变化</li>

	<li>不好的代码引诱别人做没规矩的优化，搞出一堆混乱来</li>

	<li>整洁的代码只做好一件事，糟糕的代码想做太多事，它意图混乱，目的含混</li>

	<li>整洁的代码从不隐藏设计者的意图</li>

	<li>整洁的代码只提供一种而非多种做一件事的途径</li>

	<li>整洁的代码总是看起来像是某位特别在意它的人写的</li>

	<li>回放我们编码过程显示，多多数时间都是在滚动屏幕，浏览其他模块</li>

	<li>读与写花费时间的比例超过 10:1, 写新代码时，我们一直在读旧代码</li>

	<li>编写代码的难度，取决于读周边代码的难度<!--more--></li>

</ol>

<h3>第二章：有意义的命名</h3><br/>
<ol>

	<li>一旦发现有更好的名称，就换掉旧的; 如果名称需要注释来补充，那就不算是名副其实</li>

	<li>好名称要能读得出来，像 genymdhms 给人解释时就没法读，generationTimestamp 就不一样的</li>

	<li>名称长长短应与其作用域大小相对应，以便于搜索</li>

	<li>工厂方法通常好于构造函数，如 Complex.fromRealNumber(23.0) 优于 new Complex(23.0), 因为方法名派上用场了</li>

	<li>只要短名称足够清楚，就要比长名称好。别给名称添加不必要的语境，如 accountAddress, customerAddress</li>

</ol>

<h3>第三章：函数</h3><br/>
<ol>

	<li>函数的最基本规则是要短小，20 行，不能再多了。现在的 Lambda(相当于一个匿名函数) 也不要超过 20 行</li>

	<li>函数应该做一件事。做好这件事。只做这一件事</li>

	<li>函数内的缩进层级不该多于两层</li>

	<li>switch 语句很容易让函数做多件事，所以有个规矩是如果 switch 语句只出现一次，用它来创建多态对象 </li>

	<li>函数越短小，功能越集中，就越便于取个好名字。函数名长点没关系，总比额外的描述性注释好</li>

	<li>函数参数像缩进层级一样，尽量要少，零个，一个，二个，最好不要超过两个了。参数越多测试的组合就复杂了</li>

	<li>标识参数丑陋不堪。向函数传入布尔值简直就是骇人听闻的做法。直接是在宣布本函数不止做一件事。何不声明为两个方法，用方法名标识用意</li>

	<li>有多少人搞不清楚 <code>assertEquqls(expected, actual)</code> 两个参数分别是什么，反正这个反了好像也没关系，有些时候先后却很重要</li>

	<li>不要在无副作用方法名的掩盖下干着有副作用的事情，例如 getXxx(), checkXxx() 中把某个文件删了就很奇怪</li>

	<li>函数要么做什么，要么回答什么事，二者不可兼得，像 <code>if(set("username", "unclebob"))...</code> 就令人费解了</li>

	<li>使用异常替代返回错误码。我倾向于抛异常，而不喜欢在返回值中搞，像 <code>if(deletePage(page) == E_OK)</code> 或 <code>Either(Error, Result)</code> 都觉得不好接受</li>

	<li>错误状态枚举的扩展不如创建新的异常派生类方便</li>

	<li>可能并不是从一开始就写出好的函数。刚开始时可能并未遵从任何上面的规则，但加上测试后便可以随心所欲的重构来应用上面的规则</li>

	<li>大师级程序员把系统当作故事来讲，而不是当作程序来写</li>

</ol>
