---
title: 我的 Python 快速入门
url: /my-python-warm-up/
date: 2016-06-27T02:09:58-05:00
featured: false
draft: false
type: post
toc: false
# menu: main
usePageBundles: true
thumbnail: "../images/logos/http://unmi.cc/wp-content/uploads/2016/06/python-icon-200x200.png"
categories:
  - Python
tags: 
  - Python
comment: true
codeMaxLines: 50
# additional
wpPostId: 7318 
wpStatus: publish
views: 553
lastmod: 2021-09-03T17:21:54-05:00
---

本文只是我个人的掌握 Python 的快速入门笔记, 所以混乱不堪, 并不适合于每一个想要学习 Python 的读者<br/><br/>
Python 命令进到它的 shell, ctrl+d 或 exit() 退出 python. help(str) 可以查看 str 函数的帮助, q 退出帮助. 对象的方法可用 dir 来查看, <code>dir([])</code>, <code>dir("")</code>, 进而 <code>help([].append)</code>, <code>help(dir([]))</code><br/><br/>
Python 是用严格的缩进来格式化代码块的, <a href="http://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/python_style_rules/">Google 的 Python 代码规范</a>是用 4 个空格来缩进. Google 建议 Java 是用两个空格.<br/><br/>
Python 是动态类型的, 所以可以 a = 1; a = "string" 随意赋值为不同类型. Python 也能用分号把多条语句写在同一行里, 但基本没人用分号的.<br />
Python 的基本类型有 整数, 长整数, 浮点数和复数, 以及字符串<br/><br/>
字符串可以用单引号和双引号, 它们像 Javascript, 是完全一样的<br />
''' 或 "”” 三引号的字符串是 here doc, 多行字符串<br />
转义符也是用 \, 如 ''What\’s your name\n?<br />
自然字符串: 即不转义, 用 R 或 r 来指定, 如 r"Newlines are indicated by \n”, 会输出 "\n"" 字面值. 可用于书写正则表达式<br />
放在一起的字符串就会被 Python 自动连接, 如 print ''What\'s' ''your name?’, 输出为 "What’s your name?”<br/><br/>
Python 的命名规则有几个必须知道的: 类名和 Java 一样; 模块, 方法, 变量名用小写字母下划线分隔, 常量用大写加下划线. 单或双下划线开头是特殊用途. 命名规则请参考 <a href="https://google.github.io/styleguide/pyguide.html?showone=Naming#Naming">Google Python Style Guide#Naming</a><br />
Python 是纯面向对象的, 任何东西都是对象, 函数也是<br/><br/>
Python 可以用 \ 来连接语句行, 像 Bash 一样, 如<!--more--><br/><br/>
<pre class="brush:py">print "This is\
me"<br/><br/>
print 1 +\
    3</pre>
<br/>
大部分的操作符都和 Java 一样的, 算述, 移位, 逻辑操作等. 特别的运算符有 ** 和 //<br/><br/>
<code>**</code> 幂<br />
<code>//</code> 取整除, 返回商的整数部分<br />
Python 也像 Scala 那样不支持 ++ 和 — 操作, 至于运算符的优先级没必要这么清楚的, 有括号总比没括号可读性强<br/><br/>
<span style="color: #0000ff; font-size: 12pt;"><strong>控制流</strong></span><br/><br/>
<span style="color: #0000ff;">条件语句:</span><br/><br/>
<pre class="lang:default decode:true">if a &gt; 1:
    print "larger"
elif a &lt; 1:
    print "smaller"
else:
    print "equal"</pre>
<br/>
Python 没有 switch/case 语句<br/><br/>
<span style="color: #0000ff;">循环语句: while 和  for..in</span><br/><br/>
<pre class="brush:py">while true:
    #do something</pre>
<br/>
for..in, Python 只支持这种格式的 for 循环<br/><br/>
<pre class="brush:py">for i in range(1, 5):
    print i
else:
    print ''The for loop is over’ #循环正常结束会执行这行, 除非遇到了 break 语名</pre>
<br/>
Python 也可以用 break 和 continue 结束整个或当前循环<br/><br/>
<span style="color: #0000ff;">什么也不做的 pass 语句</span><br/><br/>
pass 语句更像是一个占位符，有点像 Java 的 ; 分号，如<br/><br/>
<pre class="brush:py">while True:
    pass<br/><br/>
class MyEmptyClass:
    pass<br/><br/>
def initlog(*args):
    pass</pre>
<br/>
<span style="color: #0000ff;"><strong><span style="font-size: 12pt;">函数定义</span></strong>用 def 关键字</span>, 这和很多语言一样的<br/><br/>
<pre class="brush:py">def say(message):
    print message</pre>
<br/>
方法体中没有用 global 定义的变量是局部变量. 有 global 修饰, 如 global x = 100, 或 global x, y, z 是全局变量, 像 Javascript 中没有用 var 修饰一样. 和 PHP 一样, 如果在某个方法中需要使用全局变量, 也必须用  global x 声明一下, 否则是一个局部变量.<br/><br/>
<span style="color: #0000ff;">Python 函数支持默认参数</span><br/><br/>
<pre class="brush:py">def fun(a, b=5, c=10):
    print 'a is’, a, ''and b is’, b, ''and c is ', c #可见 print 也可以接受多个参数<br/><br/>
fun(3, 7)
fun(25, c=24)
fun(c=50, a=100)</pre>
<br/>
为了调用的参数按序匹配, 和其他语言(Scala) 一样, 带默认值的参数要写在后面. Python 不支持方法的重载, 默认参数方式在一定程度上支持了重载.<br/><br/>
<span style="color: #0000ff;">Python 函数也支持可变参数</span>，类似 Java 的 VarArg 语法<br/><br/>
<pre class="brush:py">def write_multiple_items(file, separator, *args):
    file.write(separator.join(args))</pre>
<br/>
<span style="color: #0000ff;">方法的返回值要显式的用 return 语句,</span> 和 Java 一样的. 每个函数都在结尾暗含有 return None 语句, None 是 Python 里的 null, 表示没有. 如<br/><br/>
<pre class="lang:default decode:true">def sayHello():
    print ''Hello'<br/><br/>
print sayHello() #输出为 None<br/><br/>
def maximum(x, y):
    if x &gt; y:
        return x<br/><br/>
print maximum(1, 3) #输出也为 None</pre>
<br/>
<span style="color: #0000ff;">Python 的 DocStrings</span> 是类似于 JavaDoc 的东西, 但它是写在类或函数体中第一个字符串, 一般用一个多行字符串, 它的惯例是首行以大写字母开始, 句号结层. 第二行空行, 第三行详细描述. help() 就是抓取这个 doc string<br/><br/>
<pre class="brush:py">def printMax(x, y):
    '''Prints the maximum of two numbers.<br/><br/>
    The two values must be integers.'''
    #……..<br/><br/>
print printMax.__doc___ #显示上面函数中第一个字符品的内容</pre>
<br/>
<span style="color: #0000ff; font-size: 12pt;">Python 的 Lambda 形式</span>，怎么少了这么典型的函数式编程风格呢。Python 的 Lambda 需要显式的用 lambda 关键字，简单例子如下：<br/><br/>
<pre class="lang:default decode:true ">&gt;&gt;&gt; f = lambda x, y: x + y
>&gt;&gt; f(2, 3)
5</pre>
<br/>
<strong><span style="color: #0000ff; font-size: 12pt;">Python 的模块</span></strong>与 Javascript 里模块的概念是一样的. 模块是包含了所定义的函数和变量的文件, 模块文件名必须以 .py 为扩展名.<br/><br/>
import user 会从 sys.path 中查找 user.py 文件, 并且只在第一次导入时会执行模块 user 主块中的代码, 主块就是那些未定义在函数中的代码<br/><br/>
import sys; print sys.path 可以查看加载模块的所有路径, 先在当前目录中查找<br/><br/>
<pre class="brush:py">#filename: user.py<br/><br/>
if __name__ == '__main__':
    print 'This program is being run by itself'
else:
    print __name__
    print 'I am being imported from another module'</pre>
<br/>
<pre class="lang:default decode:true">$ python user.py
This program is being run by itself<br/><br/>
$ python
>&gt;&gt; import user
user
I am being imported from another module
>&gt;&gt; import user
>&gt;&gt;</pre>
<br/>
user 模块第一次被输入时会执行不在任何函数(即主块中)的代码, python user.py 时模块的 name 是 "__main__”, import 时是 "user"<br/><br/>
<pre class="brush:py">#filename: user.py<br/><br/>
import datetime<br/><br/>
def sayhi():
    print 'Hi, this is my module speaking'<br/><br/>
now = datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')</pre>
<br/>
---<br />
<span style="color: #0000ff;">import 语句</span>,<br/><br/>
<pre class="brush:py">import user
user.sayhi()
print user.now</pre>
<br/>
<span style="color: #0000ff;">from…import 语句</span>(有节制的使用用这种方式)<br/><br/>
<pre class="brush:py">from user import sayhi #有点像 Java 的静态引入, 但不能使用 user.sayhi() 了
sayhi() #不能用 user.sayhi()</pre>
<br/>
Python 的 import, from…import 和 Javascript 的很相似; import 还可以指定别名, 如<br/><br/>
<pre class="brush:py">import user as u
u.sayhi()</pre>
<br/>
<span style="font-size: 12pt; color: #0000ff;">Python 的包</span><br/><br/>
模块的上一层组织形式是包，我们在 import a.b.c 时，a.b 就是包，c 是包或模块，用类似 Java 一样的目录结构<br/><br/>
<blockquote>
sound/<br />
    __init__.py        //每个包只必须含有这个文件，才能让 Python 识别为包，它可以是空的，也能做些初始化，如 __all__ 变量<br />
    formats/<br />
        __init__.py<br />
        echo.py
</blockquote>
<br/>
那么引用就是 import sound.formats.echo<br/><br/>
<span style="color: #0000ff; font-size: 12pt;"><strong>Python 的基本数据结构</strong></span><br/><br/>
<strong><span style="color: #0000ff;">列表</span></strong>: shoplist = [''apple", ''mango", ''carrot"]<br />
操作: shoplist.append(''rice"); shoplift.sort(); for item in shoplift: ….; del shoplist[0]<br />
切片操作: shoplist[1:3], shoplist[2:], shoplist[:], shoplist[-1] ….<br />
列表的赋值不创建拷贝, 必须用上面的切片方法来获得列表的拷贝<br/><br/>
<span style="color: #0000ff;"><strong>元组</strong></span>: zoo = (''wolf", ''elephant", ''penguin")<br />
操作: len(zoo); zoo[0] 也是像列表那样用数字索引来访问<br/><br/>
Python 格式化字符串输出, % 和元组或单个变量, 如<br/><br/>
<pre class="brush:py">age = 22
name = 'Swaroop'<br/><br/>
print '%s is %d years old' % (name, age)
print 'Why is %s playing with that python?' % name</pre>
<br/>
<strong><span style="color: #0000ff;">字典</span></strong>: d = {''key1': value1, ''key2': value2}; d[''key1’]<br/><br/>
一个Python 调用系统命令的例子<br/><br/>
<pre class="brush:py">import os<br/><br/>
if os.system('ls -l') == 0:
    print 'Sucessful'
else:
    print 'Failed'</pre>
<br/>
控制台会直接打印出 "ls -l” 命令的输出, 不需要去手动捕获系统命令的输出<br/><br/>
Python 中真正面向对像编程还得靠 class, 下边是一个 Python class 的例子<br/><br/>
<pre class="brush:py"># -*- coding: utf-8 -*-<br/><br/>
class Person:
    '''Represents a person.'''<br/><br/>
    population = 0 #类变量<br/><br/>
    def __init__(self, name): # 构造函数
        '''Initializes the person's data.'''
        self.name = name #self.name 是实例变量
        Person.population += 1<br/><br/>
    def __del__(self): # 析构函数
        '''I am dying.'''
        print '%s says bye.' % self.name
        Person.population -= 1<br/><br/>
    def say_hi(self): # 实例方法
        self.__xyz()
        print 'Hi, my name is %s.' % self.name<br/><br/>
    def __xyz(self):
        print 'private method'<br/><br/>
    @classmethod
    def how_many(cls): #类方法, 类方法与静态方法的区别 https://www.zhihu.com/question/20021164
        print 'There are %s people' % Person.population<br/><br/>
p1 = Person('Yanbin') #当构造函数没有参数的时候，括号也必须的， new Person()
print 'name:', p1.name
p1.say_hi()<br/><br/>
p1.how_many() #和 Java 一样也能通过实例来调用类方法
Person.how_many()
# p1.__xyz() 双下划线的变量或方法为私有的</pre>
<br/>
Python 中默认成员都是 public, 双下划线开始的变量或方法就是私有的<br/><br/>
类的继承方式用 class SubClass(SuperClass), Python 居然还允许多重继承: class SubClass(SuperClass1, SuperClass2, …)<br/><br/>
<strong><span style="color: #0000ff; font-size: 12pt;">Python 的异常处理</span></strong><br/><br/>
Python 的异常是 Error 或 Exception 类的直接或间接实例<br/><br/>
<pre class="brush:py">class CustomException(Exception):
    def __init__(self, code):
    self.code = code
try:
    raise CustomException(3) #in some case
except EOFError:
    print 'EOF occurs'
except CustomException, x:
    print x.message, x.code
except:
    print 'any other exception'
finally:
    print 'happens in any case'</pre>
<br/>
本文归纳自: <a href="http://wiki.jikexueyuan.com/project/simple-python-course/">http://wiki.jikexueyuan.com/project/simple-python-course/</a> 还有 <a href="http://www.pythondoc.com/pythontutorial27">Python 入门指南</a><br/><br/>
相关链接：<br/><br/>
<ol>
    <li><a href="https://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a></li>
    <li><a href="http://www.pythondoc.com/pythontutorial27">Python 入门指南</a></li>
</ol>
