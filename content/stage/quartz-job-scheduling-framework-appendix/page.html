---
title: Quartz Job Scheduling Framework［翻译］附录 A. Quartz 配置参考 (第二部分)
url: /quartz-job-scheduling-framework-appendix/
date: 2008-12-20T05:46:00-06:00
featured: false
draft: true
toc: false
# menu: main
usePageBundles: true
categories:
  - Quartz
tags: 
  - Quartz
  - 翻译
comment: true
codeMaxLines: 50
# additional
wpPostId: 305 
wpStatus: publish
views: 1454
lastmod: 2010-08-10T10:36:53-05:00
---

<strong>二. 配置 Quartz ThreadPool</strong><br/>
<br/>
表 A.2 列出了配置 Quartz ThreadPool 可用的属性。只有少些属性是必须的，剩下的都有合理的默认值。<br/>
<table cellspacing="5" width="600"><caption><strong>表 A.2. 配置 Quartz ThreadPool 的属性</strong></caption><br/>
<tbody>

<tr>

<td width="140"><strong>名称</strong></td>

<td width="70"><strong>必须</strong></td>

<td width="80"><strong>类型</strong></td>

<td><strong>默认值</strong></td>

<td></td>

</tr>

<tr>

<td><span style="color: #800080;">org.quartz.threadPool.class</span></td>

<td>是</td>

<td><span style="color: #800080;">String</span></td>

<td><span style="color: #800080;">null</span></td>

<td></td>

</tr>

<tr>

<td><span style="color: #800080;">org.quartz.threadPool.threadCount</span></td>

<td>是</td>

<td><span style="color: #800080;">Integer</span></td>

<td><span style="color: #800080;">-1</span></td>

<td></td>

</tr>

<tr>

<td><span style="color: #800080;">org.quartz.threadPool.threadPriority</span></td>

<td>否</td>

<td><span style="color: #800080;">Integer</span></td>

<td><span style="color: #800080;">5</span></td>

<td></td>

</tr>

<tr>

<td><span style="color: #800080;">org.quartz.threadPool.makeThreadsDaemons</span></td>

<td>否</td>

<td><span style="color: #800080;">boolean</span></td>

<td><span style="color: #800080;">false</span></td>

<td></td>

</tr>

<tr>

<td><span style="color: #800080;">org.quartz.threadPool.threadsInheritGroup-<br/>
        OfInitializingThread</span></td>

<td>否</td>

<td><span style="color: #800080;">boolean</span></td>

<td><span style="color: #800080;">true</span></td>

<td></td>

</tr>

<tr>

<td><span style="color: #800080;">org.quartz.threadPool.threadsInheritContext-<br/>
        ClassLoaderOfInitializingThread</span></td>

<td>否</td>

<td><span style="color: #800080;">boolean</span></td>

<td><span style="color: #800080;">false</span></td>

<td></td>

</tr>

</tbody>

</table>

<strong><span style="color: #800080;"><!--more-->·org.quartz.threadPool.class</span></strong><br/>
<br/>
用于指定你想要使用的 ThreadPool 实现的类名。Quartz 自带的 <span style="color: #800080;">ThreadPool</span> 实现是 <span style="color: #800080;">org.quartz.simpl.SimpleThreadPool</span>，它在大多数情况下是够用的。它有着十分简单的行为并得到过很好的测试。它提供了一个固定大小的线程池，且线程在 Scheduler 的生命期内是 "活着" 的。<br/>
<br/>
<span style="color: #800080;"><strong>·org.quartz.threadPool.threadCount</strong></span><br/>
<br/>
这个属性指定了可用于并发执行 Job 的线程的数量。它可设置为一个 1 和 100 之间的正整数。大于 100 的值也是允许的但却不切实际。假如你一天中只有少数几个 Job 要触发，那一个线程就够了。如果你有数以万计的 Job，且每分钟有许多被触发，那么你或许要的线程数就会是 50 或者 100。<br/>
<br/>
<span style="color: #800080;"><strong>·org.quartz.threadPool.threadPriority<br/>
</strong></span><br/>
这个属性用于指定工作者线程运行的优先级。这个值可是介于 1 和 10 之间的整数。默认为 5，也就是 <span style="color: #800080;">Thread.NORM_PRIORITY</span>。<br/>
<br/>
<span style="color: #800080;"><strong>·org.quartz.threadPool.makeThreadsDaemons</strong></span><br/>
<br/>
设置为 <span style="color: #800080;">true</span> 会使得池中的线程被创建为守护线程。默认为 <span style="color: #800080;">false</span>。<br/>
<br/>
<strong><span style="color: #800080;">·org.quartz.threadPool.threadsInheritGroupOfInitializingThread</span></strong><br/>
<br/>
假如你希望新线程继承自父线程组，就设置为 <span style="color: #800080;">true</span>。默认为 <span style="color: #800080;">true</span>。<br/>
<br/>
<span style="color: #800080;"><strong>·org.quartz.threadPool.threadInheritContextClassLoaderOfInitializingThread</strong></span><br/>
<br/>
假如你希望新线程继承自创建父线程的 <span style="color: #800080;">Classloader</span>，就设置为 <span style="color: #800080;">true</span>。默认为 <span style="color: #800080;">false</span>。<br/>
<br/>
<strong>三. 配置 Quartz 监听器<br/>
</strong><br/>
在属性文件中配置 Quartz 监听器涉及到指定名称、类名和任何其他可设置给实例的属性。监听器类必须有一个<span style="color: #800080;">无参</span>的构造方法；属性可以反射的方法设置。仅支持原始数据类型 (包括 <span style="color: #800080;">String</span>)。<br/>
<br/>
<strong>·配置 <span style="color: #800080;">JobListener</span><br/>
</strong><br/>
要配置一个 <span style="color: #800080;">JobListener</span>，你必须指定一个实现了监听接口的类<br/>
<br/>
<span style="color: #800080;">org.quartz.jobListener.NAME.class = com.foo.SomeListenerClass</span><br/>
<br/>
<span style="color: #800080;">NAME</span> 可以是你想要提供给监听器的任何名称，但它应当与调用这个类的 <span style="color: #800080;">getName()</span> 的返回值相匹配。你能提供属性给监听器，它们会以反射方式设置给监听器的：<br/>
<br/>
<span style="color: #800080;">org.quartz.jobListener.NAME.propName = proValue<br/>
org.quartz.jobListener.NAME.prop2Name = prop2Value<br/>
</span><br/>
<strong>四. 配置 <span style="color: #800080;">TriggerListener</span></strong><br/>
<br/>
配置一个 <span style="color: #800080;">TriggerListener</span> 的过程很类似于 <span style="color: #800080;">JobListener</span> 的配置。事实上，除了 <span style="color: #800080;">jobListener</span> 换成了 <span style="color: #800080;">TriggerListener</span> 外，就是一样的。<br/>
<br/>
<span style="color: #800080;">org.quartz.triggerListener.NAME.class = com.foo.SomeListenerClass</span><br/>
<br/>
你也可以相同的方式提供属性：<br/>
<br/>
<span style="color: #800080;">org.quartz.triggerListener.NAME.propName =  propValue<br/>
org.quartz.triggerListener.NAME.prop2Name = prop2Value</span><br/>
<br/>
关于 Quartz 监听器更多的信息，见第七章，"实现 Quartz 监听器"。<br/>
<br/>
<strong>五. 配置 Quartz 插件<br/>
</strong><br/>
配置 Quartz 插件的过程很类似于前面描述的配置监听器。当你有一个实现了 <span style="color: #800080;">SchedulerPlugin</span> 接口的类，你就可以通过加入如下行来配置插件：<br/>
<br/>
<span style="color: #800080;">org.quartz.plugin.NAME.class = com.foo.MyPluginClass</span><br/>
<br/>
这里，<span style="color: #800080;">NAME</span> 是你指派给插件的名称。你可以提供像下面那样给插件实例传递参数：<br/>
<br/>
<span style="color: #800080;">org.quartz.plugin.NAME.propName = propValue<br/>
org.quartz.plugin.NAME.prop2Name = prop2Value</span><br/>
<br/>
设置参数时的 <span style="color: #800080;">NAME</span> 必须与指派给插件的 <span style="color: #800080;">NAME</span> 相匹配。有关 Quartz 插件的更多信息，见第八章，"使用 Quartz 插件"。
