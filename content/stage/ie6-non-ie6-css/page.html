---
title: 为 IE6 和非 IE6 选用不同的 CSS 文件
url: /ie6-non-ie6-css/
date: 2010-09-11T06:49:43-05:00
featured: false
draft: true
toc: false
# menu: main
usePageBundles: true
categories:
  - Web/JS
tags: 
  - css
  - IE
comment: true
codeMaxLines: 50
# additional
wpPostId: 2473 
wpStatus: publish
views: 535
lastmod: 2021-09-03T11:45:13-05:00
---

为什么拟这样的一个标题，而不是为不同浏览器、或不同的 IE 版本选用不同的样式文件呢，其时那些问题都不难找到。这里我主要是考虑到 IE6 与其他版本 IE(如 IE7, IE8 等)、或其他类型浏览器(像 FireFox, Opera, Chrome 和 Safari) 存在较大的差异性。IE7 与 IE8 已较接近，其他类型浏览器一般都会自动升级到较新版本，由于盗版与 XP 的因素，在国内使用 IE6 还奇怪的多。</p>
<br/>
所以在样式布局方面就有必要区分出 IE6 与非 IE6，让他们选用不同的样式文件来进行界面排版，这就是产生本文的切实目的。另外在其他非 IE6 浏览器中可以通过 CSS Hack 技术来在同一个 CSS 文件里进行统一表现。<br/><br/>
当然、仍旧是使用条件注释的方式，就像许多编程语言的条件编译，也可说是 HTML 中的条件预<!--more-->处理吧，这样的：<br/><br/>
&lt;!--[if XXX]&gt;<br />
这里是正常的html代码<br />
&lt;![endif]--&gt;<br/><br/>
等会后面会大致列出条件的语法，这里用个例子来说明如何为 IE6 和非 IE6 引入不同的 CSS 文件。需要建立三个文件，分别是，test.html、ie6.css 和 non-ie6.css 文件，它们的内容依次是：<br/><br/>
test.html<br/><br/>
<pre class="lang:default decode:true ">&lt;!--[if lte IE 6]&gt;
&lt;link rel="stylesheet" type="text/css" href="ie6.css"&gt;
&lt;![endif]--&gt;<br/><br/>
&lt;!--[if gt IE 6]&gt;
&lt;link rel="stylesheet" type="text/css" href="non-ie6.css"&gt;
&lt;![endif]--&gt;<br/><br/>
&lt;!--[if !IE]&gt;&lt;!--&gt;
&lt;link rel="stylesheet" type="text/css" href="non-ie6.css"&gt;
&lt;!--&lt;![endif]--&gt;<br/><br/>
&lt;div&gt;看看这里的字体颜色就知道引用的是那个样式文件&lt;/div&gt;
&lt;p&gt;红色引入的是 ie6.css 文件&lt;br/&gt;
蓝色引入的是 non-ie6.css 文件&lt;/p&gt;</pre>
<br/>
ie6.css<br/><br/>
<pre class="brush:css">div{
    color:red;
}</pre>
<br/>
non-ie6.css<br/><br/>
<pre class="brush:css">div{
    color:blue;
}</pre>
<br/>
你可以在不同的浏览器测试一下能不能达到预期的效果，我是在各种浏览器下测试是正确的。用的 IETester 模拟的各版本 IE。在其他的浏览器，如 FireFox、Opera、Chrome 中测试时字体颜色是蓝色的。<br/><br/>
 为了保证测试的严谨性，光在不同的浏览器里打开看到了上面的效果还不够，还需要确保在什么时候是不是真正引入了需要的 css，而不是两个都引入了，只是后一个产生的效果。你可用 Firebug 来观察引入的哪个样式文件，也可以在 test.html 里用删除的办法来验证。<br/><br/>
比如，test.html 中引入样式文件用了三段话，在浏览器上测试时:<br/><br/>
非 IE6 下删除后两段时显示的是黑色<br />
在非 IE 浏览器中删除最后一段显示的是黑色<br />
在 IE7 或 IE8 中删除中间那段时显示的是黑色<br/><br/>
其实就是验证每一个条件判断的有效性，经我依次测试后无误，这样可以说明不同的浏览里是否加载了应得的样式文件。<br/><br/>
最后，最后请你一定要注意的就是在判断非 IE 时用的条件是：<br/><br/>
&lt;!--[if !IE]&gt;&lt;!--&gt;<br />
&lt;link rel="stylesheet" type="text/css" href="non-ie6.css"&gt;<br />
&lt;!--&lt;![endif]--&gt;<br/><br/>
而不是:<br/><br/>
&lt;!--[if !IE]&gt;<br />
&lt;link rel="stylesheet" type="text/css" href="non-ie6.css"&gt;<br />
&lt;![endif]--&gt;<br/><br/>
有两个层次的注释<br/><br/>
附一下，基本的语法：<br/><br/>
lte：就是Less than or equal to的简写，也就是小于或等于的意思。<br />
lt ：就是Less than的简写，也就是小于的意思。<br />
gte：就是Greater than or equal to的简写，也就是大于或等于的意思。<br />
gt ：就是Greater than的简写，也就是大于的意思。<br />
! ：就是不等于的意思，跟javascript里的不等于判断符相同，<br/><br/>
比如<br/><br/>
&lt;!--[if gt IE 5.5]&gt; / 如果IE版本大于5.5 /<br />
&lt;!--[if lte IE 6]&gt; / 如果IE版本小于等于6 /<br />
&lt;!--[if !IE]&gt; / 如果浏览器不是IE / 这个要注意用法哦，要 &lt;!--[if !IE]&gt;&lt;!--&gt;dedede&lt;!--&lt;![endif]--&gt;<br/><br/>
参考：1. <a href="http://blog.csdn.net/winderxp/archive/2007/07/02/1675990.aspx" target="_blank" rel="noopener">让css在不同浏览器下正常运行的方法——使用条件注释</a>
