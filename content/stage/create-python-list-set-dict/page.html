---
title: 创建 Python 的 list, set, tuple 和 dict
url: /create-python-list-set-dict/
date: 2020-06-17T00:16:13-05:00
featured: false
draft: true
toc: false
# menu: main
usePageBundles: true
thumbnail: "../images/logos/http://unmi.cc/wp-content/uploads/2016/06/python-icon-200x200.png"
categories:
  - Python
tags: 
  - Python
comment: true
codeMaxLines: 50
# additional
wpPostId: 10273 
wpStatus: publish
views: 449
lastmod: 2020-07-10T08:22:00-05:00
---

本文主要探讨一下在 Python 各种创建 list, set, tuple 和 dictionary 的方式。首先看<br/><br/>
<h3>最常用的创建方式</h3><br/><br/>
<pre class="lang:python decode:true">alist = [1, 2]                 # type(alist) &lt;class 'list'&gt;
aset = {1, 2}                  # type(aset) &lt;class 'set'&gt;
atuple = (1, 2)                # type(atuple) &lt;class 'tuple'&gt;
adict = {'k1': 1, 'k2': 2}     # type(adict) &lt;class 'dict'&gt;</pre>
<br/>
以上相当于是针对右边的值调用了相应的构造函数，如 list([1, 2]), set({1, 2}), tupe((1, 2)), dict({'k1': 1, 'k2': 2})<br/><br/>
创建 set 和 dictionary 都是用大括号 <code>{}</code>, 对于 tuple 如果是单个元素时，要附加一个逗号<br/><br/>
<pre class="lang:python decode:true ">atuple = (1,)</pre>
<br/>
如果省略逗号，会怎样呢？<!--more--><br/><br/>
<blockquote>
&gt;&gt;&gt; a = (1,)<br />
>&gt;&gt; type(a)<br />
&lt;class 'tuple'&gt;<br />
>&gt;&gt; b = (1)                     # 没了逗号，括号也能省略，就是 b = 1<br />
>&gt;&gt; type(b)<br />
&lt;class 'int'&gt;
</blockquote>
<br/>
创建一个 tuple 也可以省略括号，逗号还是要的，像<br/><br/>
<pre class="lang:default decode:true  ">atuple = 1,</pre>
<br/>
<blockquote>
&gt;&gt; a = 1,<br />
>&gt;&gt; type(a)<br />
&lt;class 'tuple'&gt;
</blockquote>
<br/>
这还是从代码中吸取的教训，在一系列赋值中不小心多加了逗号<br/><br/>
<pre class="lang:default mark:2,3 decode:true">component['id'] = 123
component['name'] = 'hello',
component['version'] = '1.0',
component['show'] = True</pre>
<br/>
本来是像 Python 的 dict 那样赋值，结果因为第二，三行多加了逗号，使得 component['name'] 和  component['version'] 的类型变成了 tuple。<br/><br/>
<h3>空集合的创建方式</h3><br/><br/>
如果只想创建一个空的 list, set, tuple 和 dictionary, 而后才往其中放入元素<br/><br/>
<pre class="lang:default decode:true">alist = []              # alist.append(1)
aset = set()            # aset.add(1), 不能用 aset = {} 了，与 dic 重叠
atuple = ()             # tuple 是 immutable, 创建空 tuple 不知有何意义
adict = {}              # adict['key1'] = 1</pre>
<br/>
需留意的是创建空 set 必须显示的用 set() 构造函数了，不能用大括号的方式，否则就变成了一个空 dictionary<br/><br/>
由于 set 不能用 <code>{}</code>, 像是作为一个补偿，我们还有两种较为花翘的，间接使用 <code>{}</code> 创建空 set 的方式<br/><br/>
<pre class="lang:default decode:true ">set1 = {*[]}      # type(set1) &lt;class 'set'&gt;, set1.add(1)
set2 = {*()}      # type(set2) &lt;class 'set'&gt;, set2.add(2)</pre>
<br/>
<h3>构造函数创建空集合</h3><br/><br/>
除了前面使用 <code>[]</code>, <code>()</code>, <code>{}</code> 类似于语法糖的方式外，再来了解下显式的使用构造函数的创建方式<br/><br/>
<pre class="lang:default decode:true ">alist = list()
aset = set()            # 这个前面说过
tuple1 = tuple()
adict = dict()</pre>
<br/>
<h3>构造函数创建带元素的集合</h3><br/><br/>
显示使用构造函数也能创建带元素的各种集合<br/><br/>
<pre class="lang:default decode:true">list1 = list([1, 2])   # 参数为 iterable, 所以还可以下两种方式
list2 = list((1, 2))
list3 = list({1, 2}<br/><br/>
set1 = set([1, 2])    # 同理， set((1, 2)), set({1, 2})
tuple1 = tuple([1, 2]) # 同理, tuple((1, 2)), tuple({1, 2})
adict = dict({'key1': 1, 'key2': 2})</pre>
<br/>
不过，显然用构造函数创建带元素的集合的以上各种方式都显得十分多余。<br/><br/>
也有例外，通过两个列表来生成 dict 的方式或许常会用到<br/><br/>
<pre class="lang:default decode:true ">keys = ['key1', 'key2']
values = [1, 2]
adict = dict(zip(keys, values))</pre>
