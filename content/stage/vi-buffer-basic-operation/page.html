---
title: Vi Buffer 的基本操作
url: /vi-buffer-basic-operation/
date: 2014-11-09T19:59:48-06:00
featured: false
draft: true
type: post
toc: false
# menu: main
usePageBundles: true
categories:
  - Linux/Unix
  - Vim
tags: 
  - Buffer
  - vi
comment: true
codeMaxLines: 50
# additional
wpPostId: 6696 
wpStatus: publish
views: 935
lastmod: 2016-07-01T20:19:23-05:00
---

在 vi 中打开过多个文件时，每个文件都是存放在各自的 buffer  中，可以用命令 ls (buffers 或 files，三个命令中拣你最喜欢的一个即可，ls 输入方便，buffers/files 更表意) 显示所有的 buffer。显示出来的结果如下：<br/>
<br/>
<img class="aligncenter size-large wp-image-6697" src="http://unmi.cc/wp-content/uploads/2014/11/vi-list-buffers-800x118.png" alt="vi-list-buffers" width="800" height="118" /><br/>
<br/>
可以看到<br/>
<br/>
每个 Buffer  的编号，分别是 1, 4, 5, 6<br/>
% 表示的是当前窗口中的 Buffer<br/>
+ 表该 Buffer  中的内容有修改<br/>
Buffer 中的文件名称<!--more--><br/>
<br/>
切换 Buffer 的办法<br/>
<br/>
bn (bNext 或 bnext) -- 切换到下一个 Buffer<br/>
bp (bprevious) -- 切换到前一个 Buffer<br/>
bd (bdelete) -- 删除当前 Buffer<br/>
<br/>
b<code>N</code> (N 表示编号，或 buffer <code>N</code>) -- 切换到编号对应的 Buffer<br/>
b filename (buffer filename) -- 切换到对应文件的 Buffer<br/>
<br/>
<img class="aligncenter size-large wp-image-6698" src="http://unmi.cc/wp-content/uploads/2014/11/vim-buffer-switch-800x41.png" alt="vim-buffer-switch" width="800" height="41" /><br/>
<br/>
bn 和 bp 切换 Buffer 比较盲目，b<code>N</code> 编号方式要先 ls 来确定编号，b filename 借助于 Tab 键也是个不错的选择。<br/>
<br/>
前面切换命令都可以在前面加 s 表示 split window，即 sbn, sbp, sb<code>N</code>, sb filename, 新拆分窗口中跳到指定的 Buffer。<br/>
<br/>
badd filename -- 新加一个 Buffer, 并载入文件。<br/>
<br/>
另外关闭窗口的命令是 :q<br/>
<br/>
补充 bl (blast) -- 切换到最后一个 Buffer, bf (bfirst) -- 切换到第一个 Buffer。<br/>
<br/>
更多 Vi 的 Buffer 和 窗口操作请参考：<br/>
<br/>
1. <a href="http://vim.wikia.com/wiki/Vim_buffer_FAQ" target="_blank">http://vim.wikia.com/wiki/Vim_buffer_FAQ</a><br/>
2. <a href="http://vimdoc.sourceforge.net/htmldoc/windows.html#buffers" target="_blank">http://vimdoc.sourceforge.net/htmldoc/windows.html#buffers</a>
