---
title: 通过 Squid 访问出现“确保报表服务器server.property设置了'proxyServer'参数”的解决
url: /squid-server-property-proxyserver-error/
date: 2009-06-11T22:07:00-05:00
featured: false
draft: false
type: post
toc: false
# menu: main
usePageBundles: true
categories:
  - Linux/Unix
tags: 
  - Linux
  - Proxy
  - Squid
comment: true
codeMaxLines: 50
# additional
wpPostId: 264 
wpStatus: publish
views: 498
lastmod: 2010-08-10T09:35:48-05:00
---

内部网通过 Squid 代理访问国税的 税收调查网上直报(<a href="http://218.18.101.150:8001/i/main.jsp">http://218.18.101.150:8001/i/main.jsp</a>) -- <a href="mailto:i@Report">i@Report</a>通用 WEB网络报表平台 时页面只出现：<br/>
<br/>
XXX.XXX.XXX.xx透过反向代理访问服务器。请确保报表服务器server.property设置了'proxyServer'参数<br/>
<br/>
不走代理就没事，在网上通过上面的关键字没找到相应的解决办法，还查英文的报错信息：<br/>
<br/>
please esure property "proxyServer" in server.property was not empty<br/>
<br/>
找到一份答案：<a href="http://bbs2.chinaunix.net/archiver/tid-1391943.html">http://bbs2.chinaunix.net/archiver/tid-1391943.html</a><br/>
<br/>
原因是访问该网站时要求 Squid 对 请求 Header 部作些处理，上面链接中给了多种方法，有些不一定对你可行。最后我是在 squid.conf 文件后面加上以下两行：<!--more--><br/>
<br/>
<span style="color: #800080;">header_access Via deny All<br/>
header_access X-Forwarded-For deny All<br/>
</span><br/>
它们默认是 aloow，这里的  All 对应我的配置是 acl All src 0/0<br/>
<br/>
保存文件，然后执行 squid -k reconfigure 后再访问该网站就 OK 啦。<br/>
<br/>
参考：1. <a href="http://bbs2.chinaunix.net/archiver/tid-1391943.html" target="_blank">用squid就不能访问，不用就能访问。【已经解决】</a>
