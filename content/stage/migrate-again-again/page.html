---
title: 本博客前几日又完成一次搬迁--历数博客搬迁之路
url: /migrate-again-again/
date: 2010-11-26T12:49:47-06:00
featured: false
draft: true
toc: false
# menu: main
usePageBundles: true
categories:
  - Gossip
tags: 
  - wordpress
  - blogs
  - migrate
comment: true
codeMaxLines: 50
# additional
wpPostId: 2871 
wpStatus: publish
views: 299
lastmod: 2016-09-03T10:01:53-05:00
---

<p>本博客再次完成了一次搬迁，从 <a href="http://bloghost.cn">BlogHost主机</a> SoftLayer达拉斯机房 到 加州硅谷T2机房 的搬迁，这一次搬迁相比前两次容易得多，因为仅仅是 WordPress 程序和数据的转移。国为达拉斯的服务器访问起来较慢，所以需搬动一下提提速。</p>

<p>主要是国内的主机贵且对备案什么的很反感，所以一直没考虑用国内的主机，不然国内主机供国人访问是要快得多。虽然可以曲线方式进行备案，但基于现在的白名单政策，仍然会让人焦虑，每加一个二级域名都得通知一声机房。那等于是即使域名解析支持泛域名解析，但接入到机房这一关也是白搭。</p>

<p>所以只好在国外主机里挪来挪去，看以后考虑香港、马来西亚也是个不错的选择。 <!--more--></p>

<p>记得第一次是从 QQ 空间到 blogcn.com 的搬迁，QQ 空间只是娱乐把玩的东西，我岂能安身于此，至今本人的 QQ 空间处于关闭状态。不过那时没多少篇，完全手工倒也不麻烦。</p>

<p>然而到了 blogcn.com 里，对于编程人员来说不咋专业，又经几次改版，真是伤透了心，于是寻觅到了 blogjava.net，那边倒是叽叽喳喳，很有些人气。用了 blogjava.net 自带的 rss 导入功能。用 HttpClient 读取 blogcn.com 中的日志再借助 Velocity 来生成 blogjava.net 所需的 rss.xml 文件完成导入的。</p>

<p>在 blogjava.net 里的日子倒也过得快乐，不想却在个人博客之风没落之时萌生了独立的念头。加之对 WordPress 的了解逾深，促成了自己注册个人域名，找空间，搭建平台，不想再做 blogjava.net 的嫁衣裳。虽然说是 blogjava.net 提供了博客空间给每一位博主们创作，但更应反过来想是写家们撑起了 blogjava.net，不是人民感谢党、感谢国家，而是党和国家要感谢人民才对。</p>

<p>从 blogjava.net 到独立 <a href="http://bloghost.cn">WordPress 空间</a>的搬迁较之 blogcn.com 到 blogjava.net 的搬走更考验人的。幸好 blogjava.net 有个备份全站内容到一个 xml 文件的功能，接着就是用 xslt 从 xml 备份文件中抽取转换出想要内容成多个 rss 文件，包括文章、随笔、新闻、评论、语法加亮由 &lt;textarea&gt; 到 &lt;pre&gt; 的转换，图片链接相对地址到绝对地址的转换等等，然后用 WordPress 的导入功能导入。纯体力的活还在后后，在 WordPress 后台里为每篇日志得手工编辑小处理一下，比如加上 &lt;!--more--&gt;，指定日志的 slug，标题有修正，分类等。</p>

<p>其间有一段小插曲，刚从 blogjava.net 转到 http://unmi.cc 之时，由于新空间没什么人气，搜索引擎里的条目不多，所以在 blogjava.net 的自己空间里加了一段 js 脚本，把两处的链接对应上，达到访问 blogjava.net 上文章自动定向到 http://unmi.cc 中的相应日志。原本也希望 blogjava.net 上的条目人搜索引擎上消失掉。没想这惹恼了 blogjava.net 的 dudu，把他们的流量给吸走了，直接把我在 blogjava.net 上的站点就关了，几经交涉才把原站点的数据要了回来。反正不明白也不再想管触犯了他们哪门子规则的，弱势呀。</p>

<p>最后说此番搬迁，完全是在两个 WordPress 平台间进行，只需程序拷过去，数据库导入再导出，分分钟的事情，纯粹取决于网络速度。再者因为直接掌控着域名的控制权，重新指向一下即可，所以这样的搬迁对于访问者来说，只要是在晚上进行的隐秘的话就是不知不觉的。也只有这样的搬迁才能搬出快感来，有了此次经验，再来一次都不怕，当然前提还是独立的博客，因为不会依附于 BSP 的特定平台。</p>
