---
title: UIView.clipsToBounds 让子 View 只显示落在父 View 的 Frame 部分
url: /uiview-clipstobounds-show-visible-part/
date: 2011-09-18T06:29:59-05:00
featured: false
draft: true
type: post
toc: false
# menu: main
usePageBundles: true
categories:
  - iOS
tags: 
  - ios
  - UIView
comment: true
codeMaxLines: 50
# additional
wpPostId: 3833 
wpStatus: publish
views: 8971
lastmod: 2011-09-18T12:39:05-05:00
---

默认情况下，我们向一个&nbsp;View&nbsp;中添加一个子&nbsp;View&nbsp;时，子&nbsp;View&nbsp;的越界部分也会显示出来，当然超过屏幕部分是显示不出来，因为无法在你手上显示内容了。看下面的图：<br/>
<table border="0" align="center">

<tbody>

<tr valign="top">

<td><img src="/wp-content/uploads/2011/09/clipsToBounds_1.png" alt="Unmi clipseToBounds" width="343" height="214" /></td>

<td>&nbsp;&nbsp;&nbsp;&nbsp;<img src="/wp-content/uploads/2011/09/clipsToBounds_2.png" alt="Unmi clipseToBounds" width="336" height="196" /></td>

</tr>

</tbody>

</table>

上图中，橙色的&nbsp;View&nbsp;是蓝色&nbsp;View&nbsp;的子&nbsp;View。看左图，由它们的&nbsp;Frame&nbsp;设置，橙色的&nbsp;View&nbsp;部分超出的蓝色&nbsp;View&nbsp;的区域，默认情况下，蓝色&nbsp;View&nbsp;超出部分也会显示出来，除非在屏幕之外的部分。<!--more--><br/>
<br/>
而我们有时候不想要这种行为，希望越界部分不显示出来，像右图所示那盘。比如我们可能期望橙色&nbsp;View&nbsp;的动画效果只在它的父&nbsp;View，即蓝色&nbsp;View&nbsp;之内展现。<br/>
<br/>
其实问题很简单，正如标题中所提示的那个 clipToBounds&nbsp;属性，字面意思是裁减到边界，就是超过父&nbsp;View&nbsp;的部分应该被裁减掉，而不显示。<br/>
<br/>
只要设置父&nbsp;View，即上图中的蓝色的&nbsp;View&nbsp;的&nbsp;clipToBounds&nbsp;为&nbsp;YES 即可，默认为&nbsp;NO.<br/>
<br/>
<span style="color: #800000;">blueView.clipToBounds = YES;</span><br/>
<br/>
同时还应该考虑&nbsp;CALayer&nbsp;的&nbsp;maskToBounds&nbsp;的功能是什么，类似于&nbsp;clipToBounds&nbsp;吗？<br/>
<br/>
maskToBounds&nbsp;是&nbsp;CALayer&nbsp;的属性，基于 View&nbsp; 的不少属性其实就是作用于 CALayer 的。立即试验了一下，设置<br/>
<br/>
<span style="color: #800000;">blueView.layer.maskToBounds = YES</span>&nbsp;与 <span style="color: #800000;">blueView.clipToBounds = YES</span>&nbsp;的效果是一样的，随便设置哪个属性都可。而且设置它们任何一个都会影响到&nbsp;View&nbsp;的阴影效果，因为阴影是加在&nbsp;View&nbsp;的&nbsp;Frame&nbsp;之外的，所以也被裁减去了。
