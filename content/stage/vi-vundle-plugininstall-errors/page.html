---
title: Vi 使用 Vundle 管理插件执行 PluginInstall 出错
url: /vi-vundle-plugininstall-errors/
date: 2014-11-10T01:07:29-06:00
featured: false
draft: true
toc: false
# menu: main
usePageBundles: true
categories:
  - Vim
tags: 
  - vi
  - Vundle
comment: true
codeMaxLines: 50
# additional
wpPostId: 6705 
wpStatus: publish
views: 4675
lastmod: 2016-07-01T20:19:06-05:00
---

<p>Vi 有了 Vundle 这么一个总管(插件管理器)，安装插件着实太省事了，再也不需要自己把 *.vim 文件放在各处。只需要做一次</p><p><span style="color: #800000;">$ git clone https://github.com/gmarik/Vundle.vim.git ~/.vim/bundle/Vundle.vim</span></p><p>编辑好 <code>~/.vimrc</code> 文件，装什么每次在这个文件中加上 <code>Plugin 'scrooloose/nerdtree'</code>，运行 <code>:PluginInstall</code> 即可。</p><p>我第一次体验执行 <code>vim +PluginInstall +qall</code> (和在 Vi 中执行 <code>:PluginInstall</code> 同一效果), 总是得到类似这样的错误</p><p><span style="color: #800000;"> Error detected while processing function vundle#installer#new..&lt;SNR&gt;46_process..vundle#installer#run..vundle#installe</span><br /> <span style="color: #800000;">r#install..&lt;SNR&gt;46_sync..&lt;SNR&gt;46_make_sync_command..&lt;SNR&gt;46_get_current_origin_url..&lt;SNR&gt;46_system:</span><br /> <span style="color: #800000;">line    1:</span><br /> <span style="color: #800000;">E484: Can't open file /var/folders/xz/vqv039517flcxtqzrq_jjy1xqzfzc0/T/v0rQ2fl/1</span><br /> <span style="color: #800000;">Error detected while processing function vundle#installer#new..&lt;SNR&gt;46_process..vundle#installer#run..vundle#installe</span><br /> <span style="color: #800000;">r#install..&lt;SNR&gt;46_sync:<!--more--></span><br /> <span style="color: #800000;">line    6:</span><br /> <span style="color: #800000;">E714: List required</span><br /> <span style="color: #800000;">Error detected while processing function vundle#installer#new..&lt;SNR&gt;46_process:</span><br /> <span style="color: #800000;">line   13:</span><br /> <span style="color: #800000;">E121: Undefined variable: g:vundle_last_status</span><br /> <span style="color: #800000;">E15: Invalid expression: 'error' == g:vundle_last_status</span></p><p>我所使用的 Shell 是 fish, 切换到 bash 也是一样的错误，找到答案是 <a href="https://github.com/gmarik/Vundle.vim/issues/175" target="_blank">https://github.com/gmarik/Vundle.vim/issues/175</a></p><p>在 ~/.vimrc 文件中加上一句</p><p><span style="color: #800000;">set shell=/bin/bash</span></p><p>再次执行 <code>vim +PluginInstall +qall</code> 一切正常。</p><p>有人在 Win32 中靠 <code>~/.vimrc</code> 中加如下行</p><p><span style="color: #800000;"> let &amp;shellslash=0</span></p><p>也能解决。</p><p>现在进行插件的安装变得很顺畅了，日趋完美了。</p><p>需要什么 Vundle 的插件可以到这里来查找 <a href="http://vimawesome.com/">http://vimawesome.com/</a>。</p>
