---
title: 让你的 WordPress 显示日志的点击/阅读数-WP-PostViews
url: /wordpress-post-views/
date: 2010-08-21T00:34:29-05:00
featured: false
draft: true
type: post
toc: false
# menu: main
usePageBundles: true
categories:
  - WordPress
tags: 
  - wordpress
  - plugin
  - PostView
comment: true
codeMaxLines: 50
# additional
wpPostId: 1695 
wpStatus: publish
views: 1271
lastmod: 2021-09-03T11:03:45-05:00
---

以前弄 Joomla，现在是纠结在 WordPress 上了。写的日志，想清楚的知道每篇日志受关注的程序，即点击/阅读数，不知道有些主题里是否能支持该功能，反正我所用的主题是没有的，所以又需要安装一个插件在每篇日志下方显示该日志被阅读的次数。</p>
<br/>
我找到了 <a href="http://wordpress.org/extend/plugins/wp-postviews/" target="_blank" rel="noopener">WP-PostViews</a>，相关的还有 <a href="http://wordpress.org/extend/plugins/wp-postviews-plus/" target="_blank" rel="noopener">WP-PostViews Plus</a>, <a href="http://wordpress.org/extend/plugins/wp-postviews-plus-widget/" target="_blank" rel="noopener">WP-PostViews Plus widget</a>。许多东西，总是别人会搞些 Plus, Enhanced, Extended 或是 Yet Another 系列。一般来说都会比原始版本要好些，但这里我还是不细究 WP-PostViews Plus 了，而 WP-PostViews Plus widget 是基于 WP-PostViews Plus 的 Widget。这里介绍下 WP-PostView 的安装与使用。<br />
下载、安装、选项设置都还简单，关键是它被启用之后，不能马上见到效果，还需要改改你所用主题目录中的几个文件。看看我的站点上应用了它之后的效果：<br/><br/>
<!--more--><img class="aligncenter" style="border: pink 1px solid;" src="/wp-content/uploads/2010/08/my-postviews.png" alt="" /><br/><br/>
上图中红斑指示的地方就是 WP-PostViews 插件的效果，显示什么，样式什么的可以在该插件的选项中配置。WP-PostViews 本身不知道该把阅读记数显示在页面哪个地方，所以需要修改主题中的几个文件，具体做法参考：<a href="http://lesterchan.net/wordpress/readme/wp-postviews.html">http://lesterchan.net/wordpress/readme/wp-postviews.html</a>。<br/><br/>
我所用的主题修改了 index.php 和 single.php 页，即在首页的每一篇日志下面显示当前日志的点击数，以及在每个日志单页下边显示点击数。打开 index.php 和 single.php 后，在 while (have_posts()) : the_post(); 和 endwhile; 之间的某处加上:<br/><br/>
&lt;?php if(function_exists('the_views')) { the_views(); } ?&gt;<br/><br/>
就行，如果你的主题还有 archives.php 页面也可以在其中某处加上上面那行代码，你也可在 page.php 加以了解 Page 被打开的次数，不过必要性就没那么急迫的。<br/><br/>
WP-PostViews 插件除了有显示点击/阅读数的功能，还带有 WP-PostViews views statistics 这个 Widget，可以用它来在 Sidebar 上显示最近被点击的，或是点击量最多的日志和(或) Page，或是某个分类里的最新点击、最多点击量的日志和(或)  Page。<br/><br/>
如果你想更灵活自如的去应用该插件，你可以直接在 PHP 中插入 PHP 代码，用个能执行 PHP 的插件就更方便了。比如要在 PHP 中显示最新被查看的日志就贴上代码：<br/><br/>
<pre class="lang:default decode:true ">&lt;?php if (function_exists('get_least_viewed')): ?&gt;
   &lt;ul&gt;
      &lt;?php get_least_viewed(); ?&gt;
   &lt;/ul&gt;
&lt;?php endif; ?&gt;</pre>
<br/>
更详细的代码调用，还是请参考：<a href="http://lesterchan.net/wordpress/readme/wp-postviews.html">http://lesterchan.net/wordpress/readme/wp-postviews.html</a>。
