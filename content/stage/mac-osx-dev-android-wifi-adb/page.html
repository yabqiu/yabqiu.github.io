---
title: Mac OS X 下开发  Android 程序时使用 WiFi ADB 连真机调试
url: /mac-osx-dev-android-wifi-adb/
date: 2012-07-14T11:39:47-05:00
featured: false
draft: false
type: post
toc: false
# menu: main
usePageBundles: true
categories:
  - Android
tags: 
  - android
  - adb
  - 调试
comment: true
codeMaxLines: 50
# additional
wpPostId: 4642 
wpStatus: publish
views: 9037
lastmod: 2014-04-30T23:55:54-05:00
---

其实不必使用 WiFi ADB 连接的方式，Google USB Driver 说不兼容是因为 Mac 根本用不着这个就能直接连手机，可以用 USB 直接连接 Android 手机进行调试。大家可点击看这个<br/>
<h2 style="font-weight: normal; color: #494949;"><a style="color: #027ac6;" href="http://unmi.cc/mac-osx-dev-android-wifi-adb/">Mac OS X 下开发 Android 程序时使用 WiFi ADB 连真机调试</a></h2><br/>
可忽略掉下面的内容。<br/>
<br/>
<hr /><br/>
<br/>
我在 Mac OS X 下用 Eclipse 开发 Android 程序，当自己的 Android 手机插上电脑上是检测试不到的，不能想在 Windows 下那样，开启了 <strong>连接 USB 调试模式</strong> 就能在启动程序的的时候可选手机来调试或测试代码。<br/>
<br/>
在 Mac 下的 Android SDK Manager 中其实也明确显示了<br/>
<br/>
<strong>Google USB Driver            Not compatible with Mac OS X</strong><br/>
<br/>
也就是无法即插即用了，那么在 Mac 下该如何联接真机来调试或测试程序呢？<br/>
<br/>
有些地方的解决办法是，把手机的 USB 调试选项关掉，启用 USB 数据存储，把 Eclipse 生成的 APK 文件拷到手机的存储卡。手机上再自行安装，而且先得到 USB 数据存储项关掉后手机才能读取存储卡上的内容。<br/>
<br/>
上面那样做只是告诉了你怎么把 APK 程序安装到手机上，还不如通过网络安装方便，并且肯定是不能联机单步调试。<br/>
<br/>
相信还是不少人在 Mac 下开发 Android 程序的，定然会有更好的解决办法，那就是：<!--more--><br/>
<br/>
在 Google Play 下搜索 wifi adb，搜出有好几款类似的软件，都可以达到相同的目的，你可以选个免费的安装看看。安装后在手机上执行它，它会开启一个 5555 的端口，比如你的手机 IP 是 192.168.1.5，你就能在 Mac 下执行：<br/>
<blockquote>unmi$  <strong>adb connect 192.168.1.5:5555</strong></blockquote>

成功后显示：<br/>
<blockquote>connected to 192.168.1.5:5555</blockquote>

再用命令：<br/>
<blockquote>unmi$ <strong>adb devices</strong></blockquote>

就能看到连上的手机了<br/>
<blockquote>List of devices attached<br/>
192.168.1.5:5555    device</blockquote>

现在你可以像在 Windows 下那样在 Eclipse 里选择真机来调试了：<br/>
<p style="text-align: center;"><img class="aligncenter  wp-image-4643" title="wifi-adb-debug" src="http://unmi.cc/wp-content/uploads/2012/07/wifi-adb-debug.png" alt="" /></p>

这样便能支持你快速的在真机上看到执行的效果，也能支持单步调试，更有重要的一点就是你的手机上即使 <strong>连接 USB 调试模式</strong> 未启用也可联机调试。<br/>
<br/>
注意在打开 Wifi ADB 时会有好几次的关于安全的警告，请放行，还得保证你的手机是被 Root 了的。如果发现设备离线了就再执行 adb 连接一下。<br/>
<br/>
说到底，上面安装的 Wifi ADB 应用做的事情就相当于你在 Android 设备的终端上执行以下几条命令：<br/>
<blockquote># setprop service.adb.tcp.port 5555<br/>
# stop adbd<br/>
# start adbd</blockquote>

如果你 root 了，能进到 Android 设备的终端，安装了终端模拟器或是 USB adb shell 了，都可以执行上面的命令来开启 5555 端口，进而使用 Wifi ADB 了。
