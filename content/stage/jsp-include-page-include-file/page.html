---
title: jsp:include page="" 和 include file="" 的区别
url: /jsp-include-page-include-file/
date: 2007-08-10T05:16:00-05:00
featured: false
draft: true
toc: false
# menu: main
usePageBundles: true
thumbnail: "../images/logos/https://yanbin.blog/wp-content/uploads/2018/06/java-logo.png"
categories:
  - Java/JEE
tags: 
  - JSP
  - include
comment: true
codeMaxLines: 50
# additional
wpPostId: 494 
wpStatus: publish
views: 911
lastmod: 2021-08-25T05:27:46-05:00
---

下面用三个实验，更清淅的理解 &lt;jsp:include page=""/&gt; 和 &lt;%@ include file="" %&gt; 的区别。<br />
&lt;jsp:include page=""/&gt; 包含被 include 文件的输出<br />
&lt;%@ include file="" %&gt; 包含被 include 文件的代码</p>
<br/>
<strong>a.jsp</strong> 内容：<br/><br/>
<pre class="lang:default decode:true ">&lt;jsp:include page="b.jsp" /&gt;</pre>
<br/>
<strong>b.jsp</strong> 内容：(空)<br/><br/>
<strong>_a.class</strong> a.jsp编译成类的内容:<!--more--><br/><br/>
<pre class="brush:java">_jspService() {
    JspWriter jspwriter = pagecontext.getOut();<br/><br/>
    // 把b.jsp的内容输出到_a.class的jspwriter
    JspRuntimeLibrary.include(httpservletrequest, httpservletresponse, "b.jsp", jspwriter, false);
}</pre>
<br/>
-------------------------------------------------------------------------------------<br/><br/>
<strong>a.jsp</strong> 内容：<br/><br/>
<pre class="lang:default decode:true">&lt;%@ include file = "b.jsp" %&gt;</pre>
<br/>
<strong>b.jsp</strong> 内容：<br/><br/>
<pre class="brush:xml">abcd</pre>
<br/>
<strong>_a.class</strong> a.jsp编译成类的内容<br/><br/>
<pre class="brush:java">// b.jsp中"abcd"字符串作为_a.class的成员变量
private static final char _jsp_string1[]= "abcd".toCharArray();
_jspService() {
    JspWriter jspwriter  =  pagecontext.getOut();
    jspwriter.write(_jsp_string1);
}</pre>
<br/>
-------------------------------------------------------------------------------------<br/><br/>
<strong>a.jsp</strong> 内容：<br/><br/>
<pre class="lang:default decode:true">&lt;%@ include file = "b.jsp" %&gt;</pre>
<br/>
<strong>b.jsp</strong> 内容：<br/><br/>
<pre class="lang:default decode:true ">&lt;% out.println("efg"); %&gt;</pre>
<br/>
<strong>_a.class</strong> a.jsp编译成类的内容<br/><br/>
<pre class="brush:java">_jspService()  {
    jspwriter.println( " efg " );
}</pre>
<br/>
以上是在用 WebSphere Application Server 6.1 编译生成的代码反编译出来的 _a.class。<br/><br/>
接下来要看看 jsp 指令，如：<br/><br/>
&lt;<a href="mailto:%@page">%@page</a> contentType="text/html; charset=UTF-8" %&gt;<br />
&lt;<a href="mailto:%@page">%@page</a> autoFlush="false" %&gt;<br />
&lt;<a href="mailto:%@page">%@page</a> buffer="20kb" %&gt;<br />
&lt;<a href="mailto:%@page">%@page</a> isThreadSafe="true" %&gt;<br />
&lt;<a href="mailto:%@page">%@page</a> errorPage="" %&gt;<br />
&lt;<a href="mailto:%@page">%@page</a> extends="" %&gt;<br />
....................<br/><br/>
会体现在生成的 class 文件的何处，分别起什么作用。
