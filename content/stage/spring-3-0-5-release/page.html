---
title: Spring 3.0.5.RELEASE 版悄无声息的发布了
url: /spring-3-0-5-release/
date: 2010-10-25T12:13:34-05:00
featured: false
draft: true
toc: false
# menu: main
usePageBundles: true
categories:
  - Spring
tags: 
  - Spring
comment: true
codeMaxLines: 50
# additional
wpPostId: 2822 
wpStatus: publish
views: 2828
lastmod: 2021-05-05T15:55:41-05:00
---

Spring 3.0.5 Release 版在 2010-10-20 悄然发布，真正支持了 Hibernate 3.6 Final。在常去的几个网站都没看到相关信息，而且在 Spring 的官方网站上也是小声细作，好不容易才翻出一个 changelog 出来：<a href="http://static.springsource.org/spring/docs/3.0.x/changelog.txt">http://static.springsource.org/spring/docs/3.0.x/changelog.txt</a>。</p>
<br/>
可在 <a href="http://ebr.springsource.com/repository/app/bundle/version/detail?name=org.springframework.core&amp;version=3.0.5.RELEASE">http://ebr.springsource.com/repository/app/bundle/version/detail?name=org.springframework.core&amp;version=3.0.5.RELEASE</a> 下载，<br/><br/>
假如你是用 Ivy 管理依赖，请添加：<br/><br/>
<span style="color: #800000;">&lt;dependency org="org.springframework" name="org.springframework.core" rev="3.0.5.RELEASE" /&gt;</span><br/><br/>
用 Maven 管理依赖的话，pom.xml 加：<!--more--><br/><br/>
<span style="color: #800000;">&lt;dependency&gt;<br />
    &lt;groupId&gt;org.springframework&lt;/groupId&gt;<br />
    &lt;artifactId&gt;org.springframework.core&lt;/artifactId&gt;<br />
    &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;<br />
&lt;/dependency&gt;</span><br/><br/>
还有作为 OSGI Bundle 的引入方式，MANIFEST.MF 中：<br/><br/>
<span style="color: #800000;">Import-Bundle: org.springframework.core;version="[3.0.5.RELEASE,3.0.5.RELEASE]"</span><br/><br/>
为何我对该版本如此关注呢？主要是原来在使用 Spring 3.0.4 MVC 的<br/><br/>
<span style="color: #800000;">&lt;mvc:resources location="/" mapping="/resources/**"/&gt;</span><br/><br/>
<span style="color: #800000;">&lt;!-- Allows for mapping the DispatcherServlet to "/" by forwarding static resource requests to the container's default Servlet --&gt;<br />
&lt;mvc:default-servlet-handler/&gt;</span><br/><br/>
时，会收到像：<br/><br/>
<span style="color: #ff0000;">cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'mvc:resources'. webmvc-config.xml /UnmiTest/src/main/webapp/WEB-INF/spring line 17 XML Problem<br />
cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'mvc:default-servlet-handler'. webmvc-config.xml /UnmiTest/src/main/webapp/WEB-INF/spring line 20 XML Problem</span><br/><br/>
这样的错误，或者是这样的提示：<br/><br/>
<span style="color: #ff0000;">Caused by: org.xml.sax.SAXParseException: The prefix "mvc" for element "mvc:resources" is not bound.<br />
at com.sun.org.apache.xerces.internal.util.ErrorHandl erWrapper.createSAXParseException(ErrorHandlerWrap per.java:195)</span><br/><br/>
反正都是一样的原因，就是配置文件所用到的 xsd 文件 <a href="http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd">http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd</a> 里没有相应的元素声明，所以用 Spring 3.0.4 时不得不从 jar 中抽出 spring-mvc-3.0.xsd 放在本地的某个目录中，但还是可能会冒出问题来。<br/><br/>
现在好了，<a href="http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd">http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd</a> 文件已经得到了更新，resources 和 default-servlet-handler 元素已经添加进来了。<br/><br/>
<span style="color: #800000;">&lt;xsd:element name="resources"&gt;<br />
&lt;xsd:element name="default-servlet-handler"&gt;</span><br/><br/>
现在那两个标记也就可以放心使用了，可以扔开 UrlRewrite 了吧。
