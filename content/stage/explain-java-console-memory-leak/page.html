---
title: 碰到一个不知如何解释的 Java 控制台程序的内存问题
url: /explain-java-console-memory-leak/
date: 2008-07-22T00:19:00-05:00
featured: false
draft: true
toc: false
# menu: main
usePageBundles: true
thumbnail: "../images/logos/https://yanbin.blog/wp-content/uploads/2018/06/java-logo.png"
categories:
  - Java/JEE
tags: 
  - memory
  - Java
comment: true
codeMaxLines: 50
# additional
wpPostId: 364 
wpStatus: publish
views: 514
lastmod: 2020-03-22T12:16:33-05:00
---

有一 Java 控制台程序，启动经过一段时间之后从 Windows 任务管理器里看它所占用的内存稳定在 540M 左右。</p>
<br/>
启动参数是：-Xms128M -Xmx512M -XX:PermSize=64M -XX:MaxPermSize=128<br/><br/>
但只要你把那个控制台窗口最小化后，观察到的内存用瞬间下降到 100 多M，有时候甚至是几十M。然后不管是窗口保持最小化还是恢复了，它所占用的内存又以几十M几十M的上扬，直至先前的 540 M 左右。每次最小化窗口都可以观察到这种现象。<br/><br/>
控制台窗口的参数：屏幕缓冲区大小：宽 120；高 300。窗口大小：宽 120；高 40。<br/><br/>
不知道在控制台窗口最小化那时，JVM 做了些什么事情能让内存骤降下来，而复又升回去。
