---
title: 三种方式告知泛型类或泛型方法具体类型
url: /three-ways-tell-generic-concrete-type/
date: 2015-01-07T12:28:30-06:00
featured: false
draft: true
type: post
toc: false
# menu: main
usePageBundles: true
categories:
  - Java/JEE
tags: 
  - 泛型
comment: true
codeMaxLines: 50
# additional
wpPostId: 6747 
wpStatus: publish
views: 427
lastmod: 2021-09-03T17:57:48-05:00
---

在上一篇中写道 <a href="http://unmi.cc/java-generic-auto-infer-by-declare-type/" target="_blank" rel="noopener">Java 泛型 -- 依据声明的变量类型自动推断</a>，主要是说明了通过声明类型告知泛型方法具体类型，其后有个小结三种方式告知泛型类或泛型方法具体类型，在此重列如下：</p>
<br/>
<strong><span style="color: #0000ff;">一. 具体类型写在两尖括号中</span></strong><br/><br/>
1. List&lt;String&gt; list<br />
2. new HashMap&lt;String, String&gt;<br />
3. instance.&lt;String&gt;foo()   //如方法 <span style="color: #800000;">&lt;T&gt; T foo() { return (T) obj; }</span><br/><br/>
<strong><span style="color: #0000ff;">二. 变量声明类型指示具体类型</span></strong><br/><br/>
1. List&lt;String&gt; list = new ArrayList&lt;&gt;()   // 这个例子应该可以列在这里，List&lt;String&gt; 指示了具体类型是 String, 所以后只需要空 &lt;&gt;，JDK7 or later<br />
2. String s = obj.foo()   //比如方法是 <span style="color: #800000;">&lt;T&gt; T foo() { return (T) obj; }</span>, 由于前面的 String s 声明，所以不必写成 String s = instance.&lt;String&gt;foo()<br/><br/>
<strong><span style="color: #0000ff;">三. 实参类型指示具体类型</span></strong><br/><br/>
1. instance.foo(String.class)  //方法为 &lt;T&gt; T foo(Class&lt;T&gt; type) { return (T) obj; }, instance.foo(String.class) 返回的就是字符串值<br />
2. instance.foo("abc")  //方法为 <span style="color: #800000;">&lt;T&gt; foo(T value) { return (T) obj; }</span>, instance.foo("abc") 返回的就是字符串值<!--more--><br/><br/>
不知还有无其他的方式？<br/><br/>
如果泛型类或泛型方法未获知具体类型，就会作为 Object 看待<br/><br/>
比如针对方法<br/><br/>
<blockquote>
<pre class="lang:default decode:true ">public &lt;T&gt; foo() {
  return (T) obj;
}</pre>
</blockquote>
<br/>
如果没有任何具体类型信息的时候，即仅仅写成<br/><br/>
instance.foo() 返回的就是一个 Object 类型
