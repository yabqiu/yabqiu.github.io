---
title: Joomla 扩展使用手记：ChronoComments 文章评论组件
url: /joomla-chrono-comments/
date: 2009-09-16T07:23:00-05:00
featured: false
draft: false
type: post
toc: false
# menu: main
usePageBundles: true
categories:
  - Joomla
tags: 
  - Joomla
  - Chrono
  - Comment
comment: true
codeMaxLines: 50
# additional
wpPostId: 233 
wpStatus: publish
views: 766
lastmod: 2018-06-29T18:09:54-05:00
---

<p>目标：继续找寻符合自己要求的文章评论组件，一直还没说自己的需求呢，用了再说吧。</p>

<p>这次要安装试用的是：Chrono Comments，支持 Joomla 1.5.x，它包括两部分：</p>

<p>1. Chrono Comments 文章评论组件 1.2 多国语言版，文件：<a href="http://www.joomlagate.com/component/option,com_remository/Itemid,48/func,startdown/id,1103/" target="_blank" rel="noopener">ChronoComments_component_V1.2_J1.5_Chinese.zip</a><br /><br/>
2. Chrono Comments 文章评论组件内容插件 1.2 多国语言版，文件：<a href="http://www.joomlagate.com/component/option,com_remository/Itemid,48/func,fileinfo/id,1104/" target="_blank" rel="noopener">ChronoComments_plugin_v1.2_Chinese.zip</a>（这个似乎是多余的）</p>

<p>其中介绍说评论组件需要依赖于插件。在中国的站点面对的用户主要还是用汉语的，不像个人软件，你爱用什么语言，别人管不着，所以得找个汉化版，它们可以从 JoomlaGate.com 上下载到，不过只去付费会员开放。Chrono Comments 的官方网站是：<a href="http://www.chronoengine.com">http://www.chronoengine.com</a>，那上面还有另两个组件，ChronoForms 和  ChronoConnectivity。<!--more--></p>

<p>那就开始安装吧，还是在 Joomla 1.5.14 上进行。首先安装 ChronoComments_component_V1.2_J1.5_Chinese.zip，该组件安装成功后显示的信息有点那个了：</p>

<div><img src="/wp-content/uploads/2009/09/ChronoCommentInstall.png" alt="" width="750" /></div>

<p>只有最后一句语有意义：可在后台的“组件-&gt;ChronoComments-&gt;ChronoManager” 进行参数设置。而且这里的描述与实际是有出入的，也不用管它。继续看后台，进到 ChronoManager 页面：</p>

<div><img src="/wp-content/uploads/2009/09/ChronoCommentAdmin.png" alt="" width="750" /></div>

<p>从界面看功能，可对评论进行管理，编辑、删除、备份、恢复。“统一参数”能打开一个窗口，有很丰富的选项设置，把所有设置展开放在一张图中看，你完全可以拿这张图放到QQ或论坛里去顶：</p>

<div><img src="/wp-content/uploads/2009/09/ChronoCommentOptions.png.zip" alt="" /></div>

<p>关键设置：<br /><br/>
1.筛选中：应用到单元，或者具体到类别或文章。为了看到效果，索引选上全部的单元<br /><br/>
2. 在博客视图显示评论链接：启用<br /><br/>
3. 先把允许未注册用户评论设置为：是<br /><br/>
4. 给新评论默认处理选上：已发布。这样就不用审核了。</p>

<p>保存即可，等会浏览前台的文章就能看到评论框。<br /><br/>
既然在这里，不妨看下其他几些个选项：<br /><br/>
评论权限，是否允许非注册用户评论，是否要输入验证码，可否用 BBCode，过滤非文明用语，sh404SEF 搜索引擎优化，IP 控制等等，还有就是关于邮件通知的设置可能用得上。</p>

<p>该转到前台来看看了，瞧首页面：</p>

<div><img src="/wp-content/uploads/2009/09/ChronoCommentFirst.png" alt="" width="750" /></div>

<p>显示了文章有几条评论，点击链接进入内容页，在内容页中可以看到评论框(假设你是个游客，还未登陆系统)：</p>

<div><img src="/wp-content/uploads/2009/09/ChronoCommentForm.png" alt="" /></div>

<p>你可以在这里提交你的评论。同时这里看到 ChronoComments 还不能算作 RichEditor 的评论，这点比上 Jom Comments  要逊色些。前面为什么要假定是未登陆用户呢？那假如我们登陆后再打开该文章，你像我一样不幸运的话，也将看不到评论框，只告诉你：Please login to post comments or replies. -- 好像反了，也就无法评论：</p>

<div><img src="/wp-content/uploads/2009/09/ChronoCommentLogin.png" alt="" /></div>

<p>这是什么原因呢，还记得前面说了还有一个插件要安装，现在只装了一个组件。其实在安装 ChronoComments_Components 时已经帮你安装了一个插件，在后台能够看到 Content - ChronoComments，并且是启用的，那 ChronoComments_plugin 是干什么用的呢，不妨装了再说吧，可是会报错：</p>

<div><img src="/wp-content/uploads/2009/09/ChronoCommentPlugin1.png" alt="" width="750" /></div>

<p>原因其实就是在安装 ChronoComments_Components 时已经安装了该插件，ChronoComments_plugin 其实就是多余的。但如果先安装 ChronoComments_plugin 再安装 ChronoComments_Components 错误是不会报，只是安装的也是 Content - ChronoComments（这是 Chrono Comments 文章评论组件的配套插件，功能是在当前文章/页面上加载评论内容及撰写表单。） 那个插件，总之安装插件的步骤是多此一举了。只是有一个区别，随同组件的插件能跟着组件一同卸载，而先于组件单独安装的插件则没有这乖。插件的参数基本没什么可配置的，看来还得去搭配调理好 ChronoComments_Components 的那一大堆选项了。</p>

<p>有言：外事不决问 Google，Baidu 是无法信赖的。翻了好几个页面，遇到相同问题的不少，但能解决问题的贴子只有一个：<a href="http://www.chronoengine.com/forums/viewtopic.php?f=17&amp;t=11100&amp;start=15">http://www.chronoengine.com/forums/viewtopic.php?f=17&amp;t=11100&amp;start=15</a>，里面说了一个配置，对照着图来设置吧：</p>

<div><img src="/wp-content/uploads/2009/09/ChronoCommentRights.png" alt="" /></div>

<p>这样，注册用户也能评论了。这个设置要说也能理解，就是会让人觉得莫名其妙，没设置好的情况就是：游客能评论，作为注册会员或是超级管理员有时还不比游客强。</p>

<p>前面还有一个问题：启用了 ChronoComments  组件后，首页面对于只显示了部分的文章会同时出现“阅读 X 条评论”和“阅读全文”的链接，完全多余了。修正办法是，在后台“菜单-&gt; Main Menu -&gt; Home” 的菜单项编辑中，组件参数里，“阅读全文”链接 设置为隐藏。这样在首页中只会显示一个“阅读 X 条评论”的链接。</p>

<p>同样，关于 ChronoComments 的功能特性，应该从参数配置中完全能够窥见，在此不累述。只说下它也是通过 AJAX 来发布评论的，即不需要刷新面面就能看到自己刚刚新增的评论。前台还能层级回复。</p>

<p>总得来说这个组件，虽然后台好象复杂，但前台简洁；就是缺乏像 Jom Comment 那样的富文本框，毕竟 BBCode 不是 WYSIWYG 的。另外，要是评论时个人信息能摆在内容框上面的话，自我感觉要好些，不过这都小事情，自己动手改改某个 php 文件都容易的。好啦，没事其他的评论组件也去瞅一瞅。</p>
