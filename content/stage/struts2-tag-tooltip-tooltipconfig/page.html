---
title: 为何我的 Struts2 标签 tooltip 和 tooltipConfig 是这种效果呢？
url: /struts2-tag-tooltip-tooltipconfig/
date: 2008-05-05T10:59:00-05:00
featured: false
draft: true
toc: false
# menu: main
usePageBundles: true
thumbnail: "../images/logos/https://yanbin.blog/wp-content/uploads/2007/05/struts-logo.jpeg"
categories:
  - Struts
tags: 
  - Struts2
comment: true
codeMaxLines: 50
# additional
wpPostId: 401 
wpStatus: publish
views: 874
lastmod: 2021-09-02T14:42:02-05:00
---

我的环境是 Tomcat 5.0.28 + Struts2.0.6 (web.xml 配置的是支持 Servlet 2.4)</p>
<br/>
testTooltip.jsp 文件内容如下：<br/><br/>
<pre class="lang:default decode:true">&lt;%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%&gt;
&lt;%@ taglib prefix="s" uri="/struts-tags"%&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Test Struts Tooltip&lt;/title&gt;
        &lt;s:head /&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;s:form tooltipConfig="#{'jsTooltipEnabled':'true'}"&gt;
            &lt;s:textfield label="Name" name="name" tooltip="Enter your Name here"
                tooltipConfig="#{'tooltipFontColor':'#ff0000'}" /&gt;
        &lt;/s:form&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre>
<br/>
打开浏览器，浏览时鼠标移到输入框前面那个图标上稍呆会儿的效果是这样子的。<!--more--><br/><br/>
<img src="/wp-content/uploads/2008/05/Struts2Tooltip.JPG" alt="Struts2Tooltip.JPG" width="245" height="78" align="left" border="0" />1) 出现一个 JS 的提示层，在下方，然后又出现一个图片的 alt/title 属性的提示。两种提示产生了重叠，十分难看。<br />
2) 我明明设置了 tooltipConfig="#{'tooltipFontColor':'#ff0000'}"，JS 的提示层文字应为红色，可不是那么回事。<br/><br/>
初见 Struts2 的 Tooltip ，对它抱过很大的期望。曾以为它可以实现鼠标悬停在输入框上时用层提示，可不尽然。只是在输入框前面多出一个 Tip 图标，鼠标放上去倒也会出现一个提示层，倒也罢，可偏偏那个图片的 alt/title 耐不住寂寞的跳了出来。<br/><br/>
如何在用 JS 实现了 Tooltip 时，不显示 alt/title ？最好是能让鼠标掠过输入框时出现那个 JS 提示层，而不用前面那个图标。<br/><br/>
注：这个 jsp 中，如果不给 &lt;s:form 加上 tooltipConfig="#{'jsTooltipEnabled':'true'}" 属性，则只会出现 alt/title 的提示。 如果页面没有加 &lt;s:head /&gt;，只要标签用了 tooltip 属性，就会出现找不到 dojo 的 JS 错误，即使是未启用 JS 的 ToolTip。<br/><br/>
还有一个问题，tooltipConfig 中有许多属性能改变 JS 的 Tooltip 层的风格，如 tooltipBgColor、tooltipFontColor 等，可是我无论对它设置什么属性，那个 JS Tooltip 层还老样，淡黄色底，黑色的字……<br/><br/>
不知道，这是为何？其他的 tooltipConfig 的属性都无法让 JS Tooltip 层有所改关，难道这是 Struts2.0.6 的 Bug？也没道理啊，逼急是要我深入到原代码里去琢磨吗？<br/><br/>
有哪位兄弟姐妹用过 Struts2 的帮我看看到底还是我错在哪里了。或者这个 jsp 文件要怎么写才对啊？
