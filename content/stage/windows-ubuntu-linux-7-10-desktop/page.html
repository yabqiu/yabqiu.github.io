---
title: 在 Windows 平台下从硬盘安装 Ubuntu Linux 7.10(Desktop)
url: /windows-ubuntu-linux-7-10-desktop/
date: 2008-04-06T10:37:00-05:00
featured: false
draft: false
type: post
toc: false
# menu: main
usePageBundles: true
thumbnail: "../images/logos/https://yanbin.blog/wp-content/uploads/2008/04/ubuntu.logo_.png"
categories:
  - Linux/Unix
tags: 
  - Linux
  - Ubuntu
comment: true
codeMaxLines: 50
# additional
wpPostId: 418 
wpStatus: publish
views: 285
lastmod: 2020-03-22T11:20:35-05:00
---

真要看如何安装可直接跳到第三节，前两节权当胡诌。</p>
<br/>
<a href="#">此第一节与本篇旨意确有偏离，以免混淆视听，故此默认时隐去，有兴趣者可点击本行来展开阅读此节</a><br/><br/>
<div id="firstg" style="display: none;"><strong><br />
<span style="color: #0000ff;">一、</span><br />
</strong>先前装过不少的 Linux 发行版，记得最早的还是 RedHat 5.1，那感觉真是非专业人员不可碰及，其实那时不过刚学步，当然要吃苦头的，一不小心便让硬盘数据倏忽全没了。</div>
<br/>
现在 Linux 慢慢也走向平民化了，尤其是 Ubuntu Linux。与 Ubuntu 的机缘还是前年大约八月份的时候，有个同事还是从美国带回来的一张 Ubuntu 6.06 LTS 的 Live CD。当晚在自己机器上一启动，发现那傻不拉叽又愣黄的界面，实在是无法与 RedHat 和 Suse 相媲美，便把它沉之箱底。<!--more--><br/><br/>
但见网上对 Ubuntu 谈论的火，推崇倍至，并且 Ubuntu 搞出个 Live CD 使得安装过程更友好，不免要亲自切实体验一把。于是在去年年底下了 Ubuntu 7.10  ISO 文件来安装，刻成了牒，光盘启动来安装。在寻找硬盘进行分区和搜索硬盘原有系统这两步可把我弄惨了，这两步分别都可耗去约半个小时（我挂了两个硬盘，加起来有六七个分区），而且光驱一直狂转不已，唧唧嘎嘎，光盘有多烫自是不必说，悲壮的是光盘在剧烈的机械运动下，直从中圈向外开裂而不可读（我的空白盘其实质量也不差的）。<br/><br/>
我觉得以上耗时的那两步真的是应该予以垢病的地方。不光搜索硬盘扫描分区慢，而且是每分完一个区又会再重新扫描一下所有分区，它就不能记忆下。扫描硬盘中已有系统，是希望能把原来的用户帐号和用户目录和设置能迁移过来，要是有个选项可不做这一步也好。这个步骤在其他的 Linux 发行版是没有，它考虑的倒也周全，挺照顾 Windows 用户的。<br/><br/>
<strong><br />
<span style="color: #0000ff;">二、</span><br />
</strong>不得已而痛下决心要从硬盘安装它了，其实在 Windows 平台下如何从硬盘安装 Ubuntu Linux 在网上可以搜到一大畧，而且会发现安装越来越简单。比如：<br />
 <br />
6.x 的 Ubuntu 从要下载 grub for dos，编辑 boot.ini、menu.lst 来自行加载镜象文件 (<a href="http://forum.ubuntu.org.cn/about29437.html" target="_blank" rel="noopener noreferrer">6.10alternate的硬盘安装教程</a>)<br/><br/>
7.x 的 Ubuntu 却简单了许多，它的光盘里就有 wubi-cdboot.exe，不需要额外的东西，只需简单操作。本文就说这一安装过程。<br/><br/>
再说到即将(本月 24 号)发布的 Ubuntu 就更简单了，像安装普通 Windows 应用程序一样了，可随意安装和卸载。其实对于前面的版本也可以这么安装的。<br/><br/>
<span style="color: #0000ff;"><strong>三、</strong></span>此处正式入题，首先从网上下得 ISO 文件，ubuntu-7.10-desktop-i386.iso ，<span style="color: #ff0000;">从 ISO 文件或是从已有的安装光盘中把 casper 目录、.disk 目录和 wubi-cdboot.exe 文件这三个玩艺拷到 C 盘的根目录下</span>。casper 是 Ubuntu 7.10 的代号(不同的子版对应不同的代号目录)，你也会发现 casper 目录有多大。<br/><br/>
网上有人说 C 盘要是 FAT 文件系统才行，我也试过了，其实无所谓。如果你把那三个东西拷到别的目录，光盘还在光驱的话，你也可以运行 wubi-cdboot.exe，不然就会提示 "Could not find any appropriate CD"，所以如果不是拷在根目录下，光盘在光驱中运行的 wubi-cdboot.exe，那么安装的时候即使不是从光盘启动，拷文件应该也是从光盘中拷的。<br/><br/>
casper 目录是系统盘的内容，.disk 是给 Ubutun 7.10 作 uuid 校验用的，wubi-cdboot.exe 就是给我们完成自动化 grub 配置的程序。desktop 版和 alternate 版光盘的区别是，desktop 是 live 版，光盘引导进到桌面再进行安装，alternate 版是像传统的 Linux 发行版那样，直接引导就进行安装，硬盘安装 alternate 版要下载 grub for dos 手工配置。<br/><br/>
Wubi is a Ubuntu installer for Windows users, 它能让您像对待普通 Windows 程序一样安装和卸载 Ubutun。它的缩写是：<span style="color: #000080;">Wubi (Windows-based Ubuntu Installer)</span> (<a href="http://wubi-installer.org/">http://wubi-installer.org/</a>)。不过这里的 wubi-cdboot.exe 却不是完全意义上的 Wubi，它只是代替了用光盘启动，也不能在 Windows 中卸载 Ubutun，因为它是安装在实际的分区上的。<br/><br/>
<span style="color: #ff0000;">然后双击运行 wubi-cdboot.exe，它会在所有的分区下放上 wubildr.mbr 和 wubildr 文件；并在某个分区下创建 ubuntu 目录并放进适当的目录和文件；还修改了 boot.ini 文件，加了一个启动项 Ubuntu-Linux。</span><br/><br/>
<div><img src="/wp-content/uploads/2008/04/wubi-cdboot.jpg" alt="wubi-cdboot.jpg" width="640" height="480" border="0" /></div>
<br/>
<span style="color: #ff0000;">wubi-cdboot.exe 执行完后会提示重新启动，选“是, 现在重新启动”启动系统。</span><br/><br/>
<span style="color: #ff0000;">在系统启动菜单里选择 Ubuntu-Linux，就可以进入到像用光盘引导进去的那个 Live 界面了。</span><br/><br/>
<div><img src="http://unmi.cc/wp-content/uploads/2008/04/boot-menu.jpg" alt="boot-menu.jpg" width="640" height="480" border="0" /></div>
<br/>
<span style="color: #ff0000;">双击桌面上的那“安装” 图标，开始安装，后面的安装步骤就与光盘启动安装一样的了，该如何分区等安装过 Linux 的都知道，不多说。</span><br/><br/>
<div><img src="http://unmi.cc/wp-content/uploads/2008/04/ubutun-setup.jpg" alt="ubutun-setup.jpg" width="640" height="300" border="0" /></div>
<br/>
笔者的做法是，安装时把原来那个 E 分区删除了，在上面建了一个 256M 的 Swap 交换分区，剩余空间全作为 / 根分区。由此可见，即使执行 wubi-cdboot.exe 这一步在 E 分区上创建了 unbuntu 目录，也只是用来启动的。安装的时候系统文件，软件都是从拷到 C 盘的 casper 目录而来，我是拷在 c:\ubuntu-inst\casper 的。<br/><br/>
<span style="color: #ff0000;">安装完 Ubutun-Linux 后，倘若再次从 Grub 启动菜单进入到 Windows 系统，会提示是否卸载掉 wubi 程序。卸载程序会把拷在每个盘符根目录下的 wubildr.mbr 和 wubildr 文件删除了，并把 boot.ini 中的 Ubuntu-Linux 启动项也去了，因为不再需要 Windows 来管理多重系统的引导了，交给 Grub 就行的。</span><br/><br/>
<span style="color: #ff0000;"> </span><br/><br/>
<div><img src="/wp-content/uploads/2008/04/wubi-uninst.jpg" alt="wubi-uninst.jpg" width="640" height="480" border="0" /></div>
<br/>
由上图也看到了 wubi-cdboot.exe 安装之后，在添加删除程序里会多出一个 Ubuntu 来，其实这个并非指 Ubuntu 操作系统，而是指 wubi-cdboot.exe 本身。如果是用 wubi 来安装的 Ubutun 的，那么出现在添回删除程序中的 Ubutun 就会是操作系统本身了。<br/><br/>
参考：1. <a href="http://forum.ubuntu.org.cn/about29437.html">6.10alternate的硬盘安装教程</a><br />
        2. <a href="http://www.ubfchina.cn/article/view.asp?id=47" target="_blank" rel="noopener noreferrer">硬盘安装Ubuntu 7.10 desktop .iso</a>(其中也介绍了手工配置 grub4dos的方法)<br />
        3. <a href="http://www.ubfchina.cn/article/view.asp?id=46" target="_blank" rel="noopener noreferrer">硬盘安装Ubuntu 7.10 配图文（alternate版，文本安装界面）</a>
