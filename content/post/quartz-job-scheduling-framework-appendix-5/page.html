---
title: Quartz Job Scheduling Framework［翻译］附录 A. Quartz 配置参考 (第五部分)
url: /quartz-job-scheduling-framework-appendix-5/
date: 2009-01-14T07:57:00-06:00
featured: false
draft: false
toc: false
# menu: main
usePageBundles: true
categories:
  - Quartz
tags: 
  - Quartz
  - 翻译
comment: true
codeMaxLines: 50
# additional
wpPostId: 299 
wpStatus: publish
views: 505
lastmod: 2010-08-10T10:30:29-05:00
---

<strong>九. 配置 <span style="color: #800080;">JobStoreCMT</span></strong><br/>
<br/>
<span style="color: #800080;">JobStoreCMT</span> 提供了另一类型的 <span style="color: #800080;">JobStore</span>，它能工作于一个关系型数据库之下。你能通过设置 <span style="color: #800080;">org.quartz.jobStore.class</span> 属性来选用 <span style="color: #800080;">JobStoreCMT</span>：<br/>
<br/>
<span style="color: #800080;">org.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreCMT</span><br/>
<br/>
当使用 <span style="color: #800080;">JobStoreCMT</span> 时，可设置一些附加属性，它们是表 A.5 所示的。<!--more--><br/>
<table cellspacing="5" width="720"><caption><strong>表 A.5. 配置 Quartz <span style="color: #800080;">JobStoreCMT</span> 的属性</strong></caption><br/>
<tbody>

<tr>

<td width="140"><strong>名称</strong></td>

<td width="70"><strong>必须</strong></td>

<td width="80"><strong>类型</strong></td>

<td><strong>默认值</strong></td>

<td></td>

</tr>

<tr>

<td><span style="color: #800080;">org.quartz.jobStore.nonManagedTXDataSource</span></td>

<td>是</td>

<td><span style="color: #800080;">String</span></td>

<td><span style="color: #800080;">null</span></td>

<td></td>

</tr>

<tr>

<td><span style="color: #800080;">org.quartz.jobStore.dontSetNonManagedTX-<br/>
ConnectionAutoCommitFalse</span></td>

<td>否</td>

<td><span style="color: #800080;">Boolean</span></td>

<td><span style="color: #800080;">false</span></td>

<td></td>

</tr>

<tr>

<td><span style="color: #800080;">org.quartz.jobStore.txIsolationLevelReadCommited</span></td>

<td>否</td>

<td><span style="color: #800080;">Boolean</span></td>

<td><span style="color: #800080;">false</span></td>

</tr>

</tbody>

</table>

<strong><span style="color: #800080;">·org.quartz.jobStore.nonManagedTXDataSource</span><br/>
</strong><br/>
<span style="color: #800080;">JobStoreCMT</span> 需要一个(即第二个) 数据源，其中包含的连接不作为容器管理事物的一部分。这个属性值必须是在属性配置文件中定义的某一个 <span style="color: #800080;">DataSource</span> 的名称。这个数据源必须包含非 CMT 的连接，换句话说就是，其中的连接的 <span style="color: #800080;">commit()</span> 和 <span style="color: #800080;">rollback()</span> 方法能够由 Quartz 直接且合法的调用。<br/>
<br/>
<strong><span style="color: #800080;">·org.quartz.jobStore.dontSetNonManagedTXConnectionAutoCommitFalse</span></strong><br/>
<br/>
这个属性意义同 <span style="color: #800080;">org.quartz.jobStore.dontSetAutoCommitFalse</span>，只是它作用于 <span style="color: #800080;">nonManagedTXDataSource</span>。<br/>
<br/>
<strong><span style="color: #800080;">·org.quartz.jobStore.txIsolationLevelReadCommited</span></strong><br/>
<br/>
当设置为 <span style="color: #800080;">true</span>，这一属性就告诉 Quartz 去调用不受管理 JDBC 连接的 <span style="color: #800080;">setTransactionIsolation(Connection.TRANSACTION_READ_UNCOMMITED)</span> 方法。这有助于防止某些数据库(如 DB2) 在高负载及长事物发生锁超时的现象。<br/>
<br/>
关于 JDBC JobStore 更多的信息，参见第六章，"JobStore 和持久化"
