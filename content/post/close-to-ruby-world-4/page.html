---
title: 走近 Ruby 的世界(四)
url: /close-to-ruby-world-4/
date: 2012-01-08T11:02:39-06:00
featured: false
thumbnail: "../images/logos/ruby-logo.png"
draft: false
toc: false
# menu: main
usePageBundles: true
categories:
  - Ruby
tags: 
  - ruby
  - bdd
  - irb
  - ri
  - gem
comment: true
codeMaxLines: 50
# additional
wpPostId: 4175 
wpStatus: publish
views: 370
lastmod: 2012-01-08T11:14:10-06:00
---

Ruby&nbsp;解释器给我们提供了四个常用的命令行工具，ruby、irb、ri&nbsp;和&nbsp; gem。动态脚本语言的解释器类似工具的使用方法基本一致的，逐个来看下它们的用法：<br/>
<br/>
1.&nbsp;ruby：脚本解释器，直接执行脚本或脚本文件<br/>
<br/>
％ ruby -e 'puts "hello world!"'<br/>
% ruby hello.rb<br/>
<br/>
<em>ruby&nbsp;显示输出可以用三种方法：print、puts&nbsp;和&nbsp;p，print&nbsp;和&nbsp;puts&nbsp;都会把操作对象的 to_s&nbsp;返回值输出，只是 puts&nbsp;会在输出内容没有换行时加上一个换行，有则和&nbsp;print&nbsp;是一样的。例如 puts "Hello World!"&nbsp;就是 print "Hello World!\n"，puts "Hello World!\n"&nbsp;也是&nbsp; print "Hello World!\n"。p&nbsp;会调用对象的&nbsp;inspect&nbsp;方法进行输出，最后加不加换行与&nbsp;puts&nbsp;的规则是一样的。</em><br/>
<br/>
2.&nbsp;&nbsp;&nbsp; irb：(Interactive RuBy)&nbsp;是个&nbsp;Ruby&nbsp;的交互命令行，可用来测试一些 Ruby&nbsp;的特性，不过有 TextMate&nbsp;那样的工具基本不会去用它。你还能在&nbsp;irb&nbsp;的&nbsp;shell&nbsp;下再次输入&nbsp;irb&nbsp;启动一个子&nbsp;shell。<!--more--><br/>
<br/>
unmi-mac:~ mssz$ irb --simple-prompt<br/>
&gt;&gt; 2**3<br/>
=&gt; 8<br/>
&gt;&gt; "Ruby ! " * 3<br/>
=&gt; "Ruby ! Ruby ! Ruby ! "<br/>
&gt;&gt; quit<br/>
unmi-mac:~<br/>
<br/>
3. ri：(Ruby Index&nbsp;或 Ruby Information&nbsp;或 Ruby Interactive)，是用在终端查看&nbsp;Ruby&nbsp;帮助的，比如&nbsp;类、模块、方法，下面是几个例子：<br/>
<br/>
$ ri Array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&nbsp;查看模块帮助<br/>
$ ri Array.sort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- 查看模块方法<br/>
$ ri Hash#each&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&nbsp;查看实例方法用 ＃&nbsp;号<br/>
$ ri Math::sqrt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&nbsp;查看类方法用 ::&nbsp;符号<br/>
$ ri sort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&nbsp;直接查看方法，如果该方法在模块或类中是唯一的则直接显示帮助信息，否则会列出所有模块、类或实例方法<br/>
<br/>
4. gem：(不清楚&nbsp;gem&nbsp;是什么的缩写)，Ruby&nbsp;的包管理工具，像是&nbsp;perl&nbsp;的&nbsp;cpan，可用来安装管理网络上第三方的包或模块，Ruby&nbsp;的包或模块是使用&nbsp;RubyGems&nbsp;来打包分发的，又叫做&nbsp;gems。<br/>
<br/>
RubyGems是一个库和程序的标准化打包以及安装框架，使得定位、安装、升级和卸载Ruby包变得容易。RubyGems 相应的命令就是&nbsp;gem。它就像&nbsp;CentOS/Fedora&nbsp;的&nbsp; yum，或&nbsp;&nbsp;Debian/Ubuntu&nbsp;的&nbsp;apt-get&nbsp;那样，Java&nbsp;的 Maven，gem 也能自动管理好包的依赖。有了&nbsp; gem 可以轻松的让 Ruby 无比强大。<br/>
<br/>
Ruby 1.9&nbsp;开始自带了&nbsp;gem，在&nbsp;Ruby 1.8&nbsp;时需从&nbsp;http://rubygems.org&nbsp;处找来安装，比如安装一个第三方包的命令如下：<br/>
<br/>
＃ gem install rails<br/>
<br/>
还有些常用的命令有：<br/>
<br/>
gem list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #显示所有安装的&nbsp;gems<br/>
gem environment &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; #显示&nbsp;RubyGems&nbsp;的配置信息<br/>
gem update rails&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #更新某个&nbsp;gem<br/>
gem update&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #更新所有的 gem<br/>
gem update --system&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #更新&nbsp;RubyGems&nbsp;自身<br/>
gem uninstall rails&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ＃卸载某个已安装的 gem<br/>
<br/>
更多帮助用&nbsp;gem help&nbsp;或&nbsp; ri gem&nbsp;来查看。
